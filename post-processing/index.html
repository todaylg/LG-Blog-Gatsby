<!DOCTYPE html><html lang="zh" prefix="og: http://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/LG-Blog-Gatsby/app.114d644fbd0f178a7b99.css">@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/LG-Blog-Gatsby/static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:italic;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/LG-Blog-Gatsby/static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/LG-Blog-Gatsby/static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:italic;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/LG-Blog-Gatsby/static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/LG-Blog-Gatsby/static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:italic;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/LG-Blog-Gatsby/static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/LG-Blog-Gatsby/static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:italic;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/LG-Blog-Gatsby/static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:normal;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/LG-Blog-Gatsby/static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff) format("woff")}@font-face{font-display:swap;font-family:Open Sans;font-style:italic;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/LG-Blog-Gatsby/static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2) format("woff2"),url(/LG-Blog-Gatsby/static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff) format("woff")}</style><style data-href="/LG-Blog-Gatsby/component---src-templates-post-template-js.e00996c3b58f2f9b9719.css">code[class*=language-],pre[class*=language-]{-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#f8f8f2}.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.0.21"/><style id="__jsx-3982648812">.item.jsx-3982648812,.showItem.jsx-3982648812{background:transparent;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-3982648812 a,.showItem.jsx-3982648812 a{padding:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.item.jsx-3982648812 svg,.showItem.jsx-3982648812 svg{margin:0 5px 0 0;opacity:0.3;}
.itemList .hideItem{display:none;}
@media screen and (min-width:1024px){.item.jsx-3982648812 a{color:#3e3e3c;padding:10px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;border-radius:5px;}.homepage:not(.fixed) .item.jsx-3982648812 a{color:#ffffff;}.item.jsx-3982648812 a:hover{color:#00a5e6;background:#ffffff;background:rgba(255,255,255,0.4);}.item.jsx-3982648812 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}.item.jsx-3982648812:hover svg{fill:#00a5e6;opacity:1;}.hero .item.jsx-3982648812:hover svg svg{fill:green;}.showItem.jsx-3982648812{display:none;}.hiddenItem.jsx-3982648812{text-align:left;padding:5px;}.hiddenItem.jsx-3982648812 a.inHiddenItem{color:#3e3e3c;}.hiddenItem.jsx-3982648812 a.inHiddenItem:hover{color:#00a5e6;}}</style><style id="__jsx-674193961">.menu.jsx-674193961{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:#ffffff;bottom:0;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;left:0;max-height:50px;padding:0 10px;position:fixed;width:100%;z-index:1;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.itemList.jsx-674193961{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;list-style:none;margin:0;padding:0;position:relative;width:100%;}
@media screen and (max-width:1023px){.menu.jsx-674193961:after{position:absolute;content:"";left:20px;right:20px;top:0;height:1px;background:#00a5e6;}.menu.open.jsx-674193961{padding:20px;}.homepage:not(.fixed) .menu.jsx-674193961{bottom:-100px;}}
@media screen and (min-width:1024px){.menu.jsx-674193961{border-top:none;background:transparent;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding-left:50px;-webkit-transition:none;-webkit-transition:none;transition:none;}.itemList.jsx-674193961{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-box-pack:end;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end;padding:0;}.hiddenItemList.jsx-674193961{list-style:none;margin:0;position:absolute;background:#ffffff;border:1px solid #ecebea;top:48px;right:10px;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding:20px;border-radius:5px;border-top-right-radius:0;}.hiddenItemList.jsx-674193961:after{content:"";background:#ffffff;z-index:10;top:-10px;right:-1px;width:44px;height:10px;position:absolute;border-left:1px solid #ecebea;border-right:1px solid #ecebea;}.homepage:not(.fixed) .hiddenItemList.jsx-674193961{border:1px solid transparent;background:#ffffff;background:rgba(255,255,255,0.9);top:50px;}.homepage:not(.fixed) .hiddenItemList.jsx-674193961:after{top:-11px;border-left:1px solid transparent;border-right:1px solid transparent;background:#ffffff;background:rgba(255,255,255,0.9);}.fixed .hiddenItemList.jsx-674193961{top:44px;}}</style><style id="__jsx-768897745">.header.jsx-768897745{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;height:80px;position:relative;top:0;width:100%;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
.header.jsx-768897745 a.logoType{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:"column";-webkit-flex-direction:"column";-ms-flex-direction:"column";flex-direction:"column";color:#3e3e3c;}
.header.jsx-768897745 a.logoType .logo.jsx-768897745{-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}
.header.homepage.jsx-768897745{position:absolute;background-color:transparent;height:100px;;}
h1.jsx-768897745{font-size:1.35em;font-weight:400;margin:0 0 5px 0;}
h2.jsx-768897745{font-weight:400;font-size:.8em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0;}
.logo.jsx-768897745{border-radius:65% 75%;border:1px solid #eee;display:inline-block;height:44px;margin:0 20px 0 0;overflow:hidden;width:44px;-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;}
.homepage.jsx-768897745 .logo.jsx-768897745{height:60px;width:60px;}
.logo.jsx-768897745 img.jsx-768897745{width:100%;}
.sensor.jsx-768897745{display:block;position:absolute;bottom:0;z-index:1;left:0;right:0;height:1px;top:80px;}
@media screen and (min-width:600px){.header.jsx-768897745{padding:40px;}.header.homepage.jsx-768897745{height:100px;;}}
@media screen and (max-width:1023px){.header.homepage.jsx-768897745 .logo.jsx-768897745{border:none;}.header.homepage.jsx-768897745 a.logoType,.header.homepage.jsx-768897745 h1.jsx-768897745{color:#ffffff;}.header.homepage.jsx-768897745 h2.jsx-768897745{color:#dddbda;}}
@media screen and (min-width:1024px){.header.jsx-768897745{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#ffffff;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:absolute;top:0;width:100%;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-transition:padding 0.5s;-webkit-transition:padding 0.5s;transition:padding 0.5s;}.header.fixed.jsx-768897745{height:50px;;background-color:#ffffff;left:0;padding:0 20px;position:fixed;top:0;width:100%;z-index:1;}.header.fixed.jsx-768897745 h1.jsx-768897745{margin:0 0 2px 0;}.header.fixed.jsx-768897745 h2.jsx-768897745{display:none;}.header.homepage.jsx-768897745:not(.fixed) a.logoType,.header.homepage.jsx-768897745:not(.fixed) h1.jsx-768897745{color:#ffffff;}.header.homepage.jsx-768897745:not(.fixed) h2.jsx-768897745{color:#dddbda;}.header.jsx-768897745 a.logoType{text-align:left;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;width:auto;}.logo.jsx-768897745{margin:0 20px 0 0;}.fixed.jsx-768897745 .logo.jsx-768897745{height:36px;width:36px;}.header.homepage.jsx-768897745:not(.fixed) .logo.jsx-768897745{border:none;}h2.jsx-768897745{-webkit-animation-duration:0.5s;-webkit-animation-duration:0.5s;animation-duration:0.5s;-webkit-animation-name:h2Entry;-webkit-animation-name:h2Entry-jsx-768897745;animation-name:h2Entry-jsx-768897745;}@-webkit-keyframes h2Entry{from.jsx-768897745{opacity:0;}to.jsx-768897745{opacity:1;}}@-webkit-keyframes h2Entry-jsx-768897745{from{opacity:0;}to{opacity:1;}}@keyframes h2Entry-jsx-768897745{from{opacity:0;}to{opacity:1;}}}</style><style id="__jsx-3306258923">h1.jsx-3306258923{font-size:2.2em;margin:0 0 40px 0;-webkit-animation-name:headlineEntry;-webkit-animation-name:headlineEntry-jsx-3306258923;animation-name:headlineEntry-jsx-3306258923;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
h1.jsx-3306258923 span{font-weight:400;display:block;font-size:0.5em;-webkit-letter-spacing:0;-moz-letter-spacing:0;-ms-letter-spacing:0;letter-spacing:0;margin:0 0 5px 0;}
h1.jsx-3306258923 svg{height:0.75em;fill:#00a5e6;}
@-webkit-keyframes headlineEntry{from.jsx-3306258923{opacity:0.5;}to.jsx-3306258923{opacity:1;}}
@-webkit-keyframes headlineEntry-jsx-3306258923{from{opacity:0.5;}to{opacity:1;}}
@keyframes headlineEntry-jsx-3306258923{from{opacity:0.5;}to{opacity:1;}}
@media screen and (min-width:600px){h1.jsx-3306258923{font-size:calc(2em * 1.2);}}
@media screen and (min-width:1024px){h1.jsx-3306258923{font-size:calc(2em * 1.4);}}</style><style id="__jsx-2889715964">.meta.jsx-2889715964{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;font-size:0.8em;margin:20px 0;background:transparent;}
.meta.jsx-2889715964 svg{fill:#00a5e6;margin:0 5px 0 0;}
.meta.jsx-2889715964 span.jsx-2889715964{-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:5px 10px 5px 0;}
@media screen and (min-width:600px){.meta.jsx-2889715964{margin:calc(20px * 1.5) 0 20px;}}</style><style id="__jsx-2925212198">.bodytext.jsx-2925212198{-webkit-animation-name:bodytextEntry;-webkit-animation-name:bodytextEntry-jsx-2925212198;animation-name:bodytextEntry-jsx-2925212198;-webkit-animation-duration:1s;-webkit-animation-duration:1s;animation-duration:1s;}
.bodytext.jsx-2925212198 h2,.bodytext.jsx-2925212198 h3{margin:1.5em 0 1em;}
.bodytext.jsx-2925212198 h2{line-height:1.2;font-size:1.7em;}
.bodytext.jsx-2925212198 h3{font-size:1.35em;line-height:1.3;}
.bodytext.jsx-2925212198 p{font-size:1.1em;line-height:1.6;margin:0 0 1.5em;}
.bodytext.jsx-2925212198 ul{list-style:circle;margin:0 0 1.5em;padding:0 0 0 1.5em;}
.bodytext.jsx-2925212198 li{margin:0.7em 0;line-height:1.5;}
.bodytext.jsx-2925212198 a{font-weight:600;color:#00a5e6;-webkit-text-decoration:underline;text-decoration:underline;}
.bodytext.jsx-2925212198 a.gatsby-resp-image-link{border:0;display:block;margin:2.5em 0;border-radius:10px;overflow:hidden;border:1px solid #ecebea;}
.bodytext.jsx-2925212198 code.language-text{background:#ecebea;text-shadow:none;color:inherit;padding:0.1em 0.3em 0.2em;border-radius:0.1em;}
@-webkit-keyframes bodytextEntry{from.jsx-2925212198{opacity:0;}to.jsx-2925212198{opacity:1;}}
@-webkit-keyframes bodytextEntry-jsx-2925212198{from{opacity:0;}to{opacity:1;}}
@keyframes bodytextEntry-jsx-2925212198{from{opacity:0;}to{opacity:1;}}</style><style id="__jsx-3827537667">.gotop.jsx-3827537667{position:fixed;right:20px;bottom:-10px;-webkit-transition:all 1s;-webkit-transition:all 1s;transition:all 1s;cursor:pointer;}
.gotop.isShowTop.jsx-3827537667{opacity:1;-webkit-transform:translateY(0);-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);}
.gotop.jsx-3827537667{opacity:0;-webkit-transform:translateY(100%);-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);}
.gotop.jsx-3827537667:hover{-webkit-transform:rotate(1deg);-webkit-transform:rotate(1deg);-ms-transform:rotate(1deg);transform:rotate(1deg);}
#backToTop.jsx-3827537667{position:fixed;right:0px;top:-900px;width:70px;height:900px;background:url(/LG-Blog-Gatsby/static/line-73cb43199ea69a76e36ba5b0990e97e4.png);-webkit-transition:all .5s ease-in-out;-webkit-transition:all .5s ease-in-out;transition:all .5s ease-in-out;}</style><style id="__jsx-126278577">.links.jsx-126278577{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;padding:0 20px 40px;border-bottom:1px solid #ecebea;margin:0 0 40px 0;}
.links.jsx-126278577 a{display:-webkit-box;display:-ms-flexbox;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}
.links.jsx-126278577 a:nth-child(2){margin:20px 0 0;}
.links.jsx-126278577 svg{fill:orange;width:20px;height:20px;-ms-flex-negative:0;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-box-flex:0;-ms-flex-positive:0;-webkit-box-flex:0;-webkit-flex-grow:0;-ms-flex-positive:0;flex-grow:0;margin:0 20px 0 0;}
h4.jsx-126278577{font-weight:600;margin:0;font-size:1.1em;}
time.jsx-126278577{color:#969492;display:block;font-weight:400;font-size:0.8em;margin-top:0.5em;}
@media screen and (min-width:1024px){.links.jsx-126278577{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.links.jsx-126278577 a{-ms-flex-preferred-size:50%;-webkit-flex-basis:50%;-ms-flex-preferred-size:50%;flex-basis:50%;}.links.jsx-126278577 a:nth-child(2){margin:0;}.links.jsx-126278577 svg{-webkit-transition:all 0.5s;-webkit-transition:all 0.5s;transition:all 0.5s;margin:0 10px 0 0;}@media (hover:hover){.links.jsx-126278577 a:hover svg{-webkit-transform:scale(1.5);-webkit-transform:scale(1.5);-ms-transform:scale(1.5);transform:scale(1.5);}}}</style><style id="__jsx-1766939654">.article.jsx-1766939654{padding:20px;margin:0 auto;}
@media screen and (min-width:600px){.article.jsx-1766939654{padding:calc(20px) calc(20px * 2);max-width:650px;}}
@media screen and (min-width:1024px){.article.jsx-1766939654{padding:calc(20px * 2 + 90px) 0 calc(20px * 2);max-width:700px;}}</style><style id="__jsx-2344609357">.footer.jsx-2344609357{background:#ffffff;padding:20px;padding-top:0;padding-bottom:120px;}
.footer.jsx-2344609357 ul{list-style:none;text-align:center;padding:0;}
.footer.jsx-2344609357 ul li{color:#969492;font-size:.8em;padding:2px 10px;position:relative;display:inline-block;}
.footer.jsx-2344609357 ul li:after{content:"•";position:absolute;right:calc(5px * -1);}
.footer.jsx-2344609357 ul li:last-child:after{content:"";}
@media screen and (min-width:1024px){.footer.jsx-2344609357{padding:0 1em 1.5em;}}</style><style id="__jsx-3017011455">main.jsx-3017011455{min-height:80vh;}</style><style id="__jsx-3148707342">html{-webkit-box-sizing:border-box;box-sizing:border-box;}
*,*:after,*:before{-webkit-box-sizing:inherit;box-sizing:inherit;margin:0;padding:0;}
body{font-family:Arial, sans-serif;;}
h1,h2,h3{font-weight:400;line-height:1.1;-webkit-letter-spacing:-0.03em;-moz-letter-spacing:-0.03em;-ms-letter-spacing:-0.03em;letter-spacing:-0.03em;margin:0;}
h1{-webkit-letter-spacing:-0.04em;-moz-letter-spacing:-0.04em;-ms-letter-spacing:-0.04em;letter-spacing:-0.04em;}
p{margin:0;}
strong{font-weight:400;}
a{-webkit-text-decoration:none;text-decoration:none;color:#666;}
main{width:auto;display:block;}</style><title data-react-helmet="true">Post-Processing学习笔记 - LG-Blog</title><meta data-react-helmet="true" name="description" content="LG-Blog"/><meta data-react-helmet="true" property="og:url" content="www.todaylg.com/LG-Blog-Gatsby//post-processing/"/><meta data-react-helmet="true" property="og:title" content="Post-Processing学习笔记 - LG-Blog"/><meta data-react-helmet="true" property="og:description" content="LG-Blog"/><meta data-react-helmet="true" property="og:image" content="[object Object]"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="WebAMV"/><link rel="manifest" href="/LG-Blog-Gatsby/manifest.webmanifest"/><meta name="theme-color" content="#666"/><link rel="alternate" type="application/rss+xml" href="/LG-Blog-Gatsby/rss.xml"/><link as="script" rel="preload" href="/LG-Blog-Gatsby/0-c0983f293ccd2b817b46.js"/><link as="script" rel="preload" href="/LG-Blog-Gatsby/component---src-templates-post-template-js-8e85dd8dc3a92e7303c1.js"/><link as="script" rel="preload" href="/LG-Blog-Gatsby/app-bab684d8b8f29b3f4d28.js"/><link as="script" rel="preload" href="/LG-Blog-Gatsby/webpack-runtime-ca48ef97ea7164bb4690.js"/><link rel="preload" href="/LG-Blog-Gatsby/static/d/576/path---post-processing-1-e-1-4b1-tjBOWRqni54uIsa3NvysxTh9KI.json" as="fetch" crossOrigin="use-credentials"/><meta name="apple-mobile-web-app-capable" content="yes"/><meta name="apple-mobile-web-app-status-bar-style" content="#D0E0D8"/><meta name="apple-mobile-web-app-title" content="Lazywill"/><link rel="apple-touch-icon" href="/icons/apple-icon-57x57.png" sizes="57x57"/><link rel="apple-touch-icon" href="/icons/apple-icon-60x60.png" sizes="60x60"/><link rel="apple-touch-icon" href="/icons/apple-icon-72x72.png" sizes="72x72"/><link rel="apple-touch-icon" href="/icons/apple-icon-76x76.png" sizes="76x76"/><link rel="apple-touch-icon" href="/icons/apple-icon-114x114.png" sizes="114x114"/><link rel="apple-touch-icon" href="/icons/apple-icon-120x120.png" sizes="120x120"/><link rel="apple-touch-icon" href="/icons/apple-icon-144x144.png" sizes="144x144"/><link rel="apple-touch-icon" href="/icons/apple-icon-152x152.png" sizes="152x152"/><link rel="apple-touch-icon" href="/icons/apple-icon-180x180.png" sizes="180x180"/><link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/icons/favicon-96x96.png"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><header class="jsx-768897745 header  "><a class="logoType" href="/LG-Blog-Gatsby/"><div class="jsx-768897745 logo"><img src="/LG-Blog-Gatsby/static/avatar-421bc1a993c325eb033296a4b73eee0c.jpg" alt="LG-Blog" class="jsx-768897745"/></div><div class="jsx-768897745 type"><h1 class="jsx-768897745">todaylg</h1><h2 class="jsx-768897745"></h2></div></a><nav rel="js-menu" class="jsx-674193961 menu "><ul class="jsx-674193961 itemList"><li class="jsx-3982648812 item"><a class="" data-slug="/" href="/LG-Blog-Gatsby/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" height="1em" width="1em"><path d="M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z"></path></svg> <!-- -->Home</a></li><li class="jsx-3982648812 item"><a class="" data-slug="/category/" href="/LG-Blog-Gatsby/category/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg> <!-- -->Categories</a></li><li class="jsx-3982648812 item"><a class="" data-slug="/contact/" href="/LG-Blog-Gatsby/contact/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path></svg> <!-- -->About</a></li></ul></nav></header><div class="jsx-768897745 sensor"></div><main class="jsx-3017011455 jsx-3148707342"><article class="jsx-1766939654 article"><header><h1 class="jsx-3306258923">Post-Processing学习笔记</h1><p class="jsx-2889715964 meta"><span class="jsx-2889715964"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18"><path d="M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"></path></svg> <!-- -->2019-06-15</span><span class="jsx-2889715964"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" size="18" height="18" width="18"><path d="M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"></path></svg> <!-- -->todaylg</span><span class="jsx-2889715964"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" size="18" height="18" width="18"><path d="M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"></path></svg><a href="/LG-Blog-Gatsby/category/小结">小结</a></span></p></header><div class="jsx-2925212198 bodytext"><p>Post Processing Effect指的是后期处理效果，这些效果的实现是基于已经渲染的场景之上的，即通过将场景以纹理形式渲染到一个覆盖全屏的四边形上，再对纹理图形进行处理：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// 一个覆盖全屏的大三角形，保持屏幕内的UV坐标映射仍为0 => 1，画图即可知。</span>
<span class="token comment">// 此法性能优于使用四边形。（From RTR4）</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>geometry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Geometry</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>

    position<span class="token punctuation">:</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

    uv<span class="token punctuation">:</span> <span class="token punctuation">{</span> size<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>RenderTarget/Post</h3>
<p>在进行后处理之前我们需要将场景先渲染到<a href="https://learnopengl-cn.github.io/04%20Advanced%20OpenGL/05%20Framebuffers/">帧缓冲(FrameBuffer)</a>上，RenderTarget就是对创建完整的Framebuffer进行的封装：</p>
<ul>
<li>
<p>创建及绑定Framebuffer</p>
</li>
<li>
<p>创建附件（Texture/Renderbuffer Object）并附加缓冲（Color/Depth/Stencil）</p>
</li>
</ul>
<p>而Post则是对场景需要添加多个后处理效果的情况进行管理：</p>
<ul>
<li>
<p>根据各个处理效果的Shader（即Program）实例化相应Mesh实体</p>
</li>
<li>
<p>Ping-Pong Pass渲染队列</p>
</li>
</ul>
<p>Ping-Pong Pass的后处理队列指的是上一处理效果的输出为下一处理效果的输入（使用两个FrameBufferObject交替作为input和output的target实现），适用于多个后处理效果的叠加：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//Post drawCall</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token comment">// 首先正常渲染场景</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>gl<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

        scene<span class="token punctuation">,</span> camera<span class="token punctuation">,</span> update<span class="token punctuation">,</span> sort<span class="token punctuation">,</span> frustumCull<span class="token punctuation">,</span>
        target<span class="token punctuation">:</span> enabledPasses<span class="token punctuation">.</span>length <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fbos<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>currentFBO<span class="token punctuation">]</span> <span class="token punctuation">:</span> target<span class="token punctuation">,</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>enabledPasses<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token comment">// Ping-Pong Pass</span>
    enabledPasses<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pass<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token operator">...</span>
        <span class="token comment">// 最后一次Render (i == enabledPasses.length - 1) render回到target(默认即回到main FrameBuffer)</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>gl<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

            scene<span class="token punctuation">:</span> pass<span class="token punctuation">.</span>mesh<span class="token punctuation">,</span> clear<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

            target<span class="token punctuation">:</span> i <span class="token operator">===</span> enabledPasses<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">?</span> target <span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fbos<span class="token punctuation">[</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentFBO<span class="token punctuation">]</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 替换输入输出target</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentFBO <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>currentFBO<span class="token punctuation">;</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Post Processing Effect</h3>
<p>常见的后处理效果包括：</p>
<ul>
<li>
<p>Gaussian Blur</p>
</li>
<li>
<p>FXAA</p>
</li>
<li>
<p>Glitch</p>
</li>
<li>
<p>CrossFade</p>
</li>
<li>
<p>Bloom</p>
</li>
<li>
<p>ToneMapping</p>
</li>
<li>
<p>Vignette</p>
</li>
<li>
<p>LensFlare</p>
</li>
<li>
<p>reProjection</p>
</li>
<li>
<p>Depth of Field（DOF）</p>
</li>
<li>
<p>Motion Blur</p>
</li>
</ul>
<p>这些效果可以使得场景变得更为炫酷，可以说对于构建炫酷场景是不可或缺的部分，所以这部分决定好好学习一波，瞅瞅各个效果的原理并进行实践。</p>
<p>实践效果还是在<a href="http://todaylg.com/LGL/examples/?src=postProcessing_Blur.html">Example</a></p>
<h3>Gaussian Blur</h3>
<p>高斯模糊的理论知识可以参考<a href="https://xiazdong.github.io/2017/04/30/%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A/">这篇文章</a></p>
<p>之前一直奇怪为什么纹理要规定纹理环绕方式，原来一些算法对纹理采样的坐标还真是会超出边缘边界的。</p>
<p>具体实现的话可以直接使用<a href="https://github.com/Jam3/glsl-fast-gaussian-blur">已有轮子</a> , 其Shader根据blur的模糊像素（双向时=>5/9/13）将权重具体数值化来提升运行效率：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">vec4 <span class="token function">blur5</span><span class="token punctuation">(</span>sampler2D image<span class="token punctuation">,</span> vec2 uv<span class="token punctuation">,</span> vec2 resolution<span class="token punctuation">,</span> vec2 direction<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vec4 color <span class="token operator">=</span> <span class="token function">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  vec2 off1 <span class="token operator">=</span> <span class="token function">vec2</span><span class="token punctuation">(</span><span class="token number">1.3333333333333333</span><span class="token punctuation">)</span> <span class="token operator">*</span> direction<span class="token punctuation">;</span>
  color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> uv<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.29411764705882354</span><span class="token punctuation">;</span>
  color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span>off1 <span class="token operator">/</span> resolution<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.35294117647058826</span><span class="token punctuation">;</span>
  color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span> uv <span class="token operator">-</span> <span class="token punctuation">(</span>off1 <span class="token operator">/</span> resolution<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.35294117647058826</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> color<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>由理论知识的那篇文章可知，将二维高斯分布函数分解为两个一维高斯分布函数相乘可以降低算法复杂度，从而获得性能提升。所以我们使用的时候需要进行双向Pass才能得到正确结果：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> post <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Post</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> w <span class="token operator">=</span> gl<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width<span class="token punctuation">;</span>

<span class="token keyword">let</span> h <span class="token operator">=</span> gl<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
<span class="token comment">// Y轴</span>
post<span class="token punctuation">.</span><span class="token function">addPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    fragment<span class="token punctuation">:</span> blurPassShader<span class="token punctuation">,</span>

    uniforms<span class="token punctuation">:</span> <span class="token punctuation">{</span>

    resolution<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Vec2</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        direction<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Vec2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// X轴</span>
post<span class="token punctuation">.</span><span class="token function">addPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    fragment<span class="token punctuation">:</span> blurPassShader<span class="token punctuation">,</span>

    uniforms<span class="token punctuation">:</span> <span class="token punctuation">{</span>

        resolution<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Vec2</span><span class="token punctuation">(</span>w<span class="token punctuation">,</span> h<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        direction<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Vec2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>FXAA</h3>
<p>FXAA是抗锯齿(Anti-Aliasing)技术之一，抗锯齿技术的相关的介绍可以参考<a href="https://www.zhihu.com/question/20236638/answer/44821615">这篇文章</a></p>
<p>其中的SMAA和MLAA技术介绍可以参考<a href="https://blog.csdn.net/qezcwx11/article/details/78426052">这篇文章</a></p>
<p>而关于FXAA具体的计算原理可以参考<a href="http://blog.simonrodriguez.fr/articles/30-07-2016_implementing_fxaa.html?tdsourcetag=s_pctim_aiomsg">这篇文章</a></p>
<p>后处理AA（PPAA）的核心方法其实都是边缘检测+blur来达到柔化边缘的抗锯齿效果，各种AA不同主要在于各自的边缘检测算法不同。</p>
<p>具体实现可以直接使用<a href="https://github.com/mattdesl/glsl-fxaa">已有轮子</a></p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">vec4</span> <span class="token function">fxaa</span><span class="token punctuation">(</span><span class="token keyword">sampler2D</span> tex<span class="token punctuation">,</span> <span class="token keyword">vec2</span> uv<span class="token punctuation">,</span> <span class="token keyword">vec2</span> resolution<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment">//没搞懂的计算原理</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    FragColor <span class="token operator">=</span> <span class="token function">fxaa</span><span class="token punctuation">(</span>tMap<span class="token punctuation">,</span> vUv<span class="token punctuation">,</span> resolution<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Bloom</h3>
<p>Bloom的相关介绍可以参考<a href="https://learnopengl-cn.github.io/05%20Advanced%20Lighting/07%20Bloom/">这篇文章</a></p>
<p>核心其实就是：提取场景中的亮部=>对亮部进行模糊处理=>与原场景融合。</p>
<p>正常处理步骤如下：</p>
<ul>
<li>
<p>场景渲染 => 亮部提取 => 模糊处理 => 结果（FrameBufferObejct）</p>
</li>
<li>
<p>场景渲染（FrameBufferObejct）</p>
</li>
<li>
<p>原场景与结果融合</p>
</li>
</ul>
<p>可以看到同样是场景渲染这个步骤，但是我们分别渲染到了两个不同的帧缓冲，这里可以使用MRT(Multiple Render Targets，多渲染目标)进行优化：只需创建一个帧缓冲对象，经过Shader渲染到多个颜色缓冲中：</p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token comment">//WebGL 1.0</span>
<span class="token preprocessor builtin">#extension</span> GL_EXT_draw_buffers <span class="token punctuation">:</span> require 
<span class="token keyword">precision</span> <span class="token keyword">highp</span> <span class="token keyword">float</span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    gl_FragData<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//gl.COLOR_ATTACHMENT00</span>

    gl_FragData<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//gl.COLOR_ATTACHMENT01</span>
    gl_FragData<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//gl.COLOR_ATTACHMENT02</span>

<span class="token punctuation">}</span></code></pre></div>
<p>MTR在WebGL1.0依赖<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/WEBGL_draw_buffers">WEBGL_draw_buffers扩展</a>的支持，在WebGL2.0原生支持：<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/drawBuffers">drawBuffers</a></p>
<p><strong>亮部提取：</strong></p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token comment">// uniforms: {</span>
<span class="token comment">//    luminosityThreshold: { value: 0.8 },</span>
<span class="token comment">//    smoothWidth: { value: 0.01 },</span>
<span class="token comment">//    defaultOpacity: { value : 0 },</span>
<span class="token comment">//    defaultColor: { value : new Color(0,0,0) }</span>
<span class="token comment">// }</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">vec4</span> texel <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span> tMap<span class="token punctuation">,</span> vUv <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec3</span> luma <span class="token operator">=</span> <span class="token keyword">vec3</span><span class="token punctuation">(</span> <span class="token number">0.299</span><span class="token punctuation">,</span> <span class="token number">0.587</span><span class="token punctuation">,</span> <span class="token number">0.114</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//Luma值表示为介于0.0和1.0之间的灰度级（公式L = 0.299 * R + 0.587 * G + 0.114 * B）</span>
    <span class="token keyword">float</span> v <span class="token operator">=</span> <span class="token function">dot</span><span class="token punctuation">(</span> texel<span class="token punctuation">.</span>xyz<span class="token punctuation">,</span> luma <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> outputColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span> defaultColor<span class="token punctuation">.</span>rgb<span class="token punctuation">,</span> defaultOpacity <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//限制在容差范围内</span>
    <span class="token keyword">float</span> alpha <span class="token operator">=</span> <span class="token function">smoothstep</span><span class="token punctuation">(</span> luminosityThreshold<span class="token punctuation">,</span> luminosityThreshold <span class="token operator">+</span> smoothWidth<span class="token punctuation">,</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//if v ≤ luminosityThreshold and 1.0 if v ≥ luminosityThreshold + smoothWidth</span>

    FragColor <span class="token operator">=</span>  <span class="token function">mix</span><span class="token punctuation">(</span> outputColor<span class="token punctuation">,</span> texel<span class="token punctuation">,</span> alpha <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//x⋅(1−a)+y⋅a => y⋅a</span>

<span class="token punctuation">}</span></code></pre></div>
<p><strong>模糊处理：</strong></p>
<p>模糊处理基于高斯模糊，模糊的质量高低基本就决定了泛光效果的质量好坏，所以并不是简单的一次高斯模糊，而是多次不同半径的高斯模糊并按不同权重结合，原理可参考<a href="https://docs.unrealengine.com/udk/Three/Bloom.html">这篇文章</a></p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl">let w <span class="token operator">=</span> gl<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>width <span class="token operator">*</span> renderer<span class="token punctuation">.</span>dpr<span class="token punctuation">;</span>
let h <span class="token operator">=</span> gl<span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>height <span class="token operator">*</span> renderer<span class="token punctuation">.</span>dpr<span class="token punctuation">;</span>

let tw <span class="token operator">=</span> w<span class="token punctuation">;</span>

let th <span class="token operator">=</span> h<span class="token punctuation">;</span>

let blurPasses <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> levels <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span><span class="token comment">//重复5次双向高斯模糊</span>

<span class="token keyword">for</span><span class="token punctuation">(</span>let i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> levels<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

    tw <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>tw<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    th <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>th<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> blurPass <span class="token operator">=</span> new <span class="token class-name">Post</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//Y轴</span>

    blurPass<span class="token punctuation">.</span><span class="token function">addPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    fragment<span class="token punctuation">:</span> blurPassShader<span class="token punctuation">,</span>

    uniforms<span class="token punctuation">:</span> <span class="token punctuation">{</span>

        tMap<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> thresholdPassTarget <span class="token punctuation">}</span><span class="token punctuation">,</span>

        resolution<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> new <span class="token class-name">Vec2</span><span class="token punctuation">(</span>tw<span class="token punctuation">,</span> th<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

            direction<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> new <span class="token class-name">Vec2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//X轴</span>

    blurPass<span class="token punctuation">.</span><span class="token function">addPass</span><span class="token punctuation">(</span><span class="token punctuation">{</span>

    fragment<span class="token punctuation">:</span> blurPassShader<span class="token punctuation">,</span>

       uniforms<span class="token punctuation">:</span> <span class="token punctuation">{</span>

           resolution<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> new <span class="token class-name">Vec2</span><span class="token punctuation">(</span>tw<span class="token punctuation">,</span> th<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

           direction<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> new <span class="token class-name">Vec2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>

       <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    let blurPassTarget <span class="token operator">=</span> new <span class="token class-name">RenderTarget</span><span class="token punctuation">(</span>gl<span class="token punctuation">)</span><span class="token punctuation">;</span>

     blurPasses<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> blurPass<span class="token punctuation">,</span> blurPassTarget <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre></div>
<p>最后各模糊纹理再与原场景混合：</p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token comment">// bloomFactors: { value: [ 1.0, 0.8, 0.6, 0.4, 0.2 ] }</span>
<span class="token comment">// bloomTintColors: { value: [ new Vec3(1), new Vec3(1), new Vec3(1),new  Vec3(1), new Vec3(1) ]}</span>
<span class="token keyword">float</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">in</span> <span class="token keyword">float</span> factor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">float</span> mirrorFactor <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token operator">-</span> factor<span class="token punctuation">;</span>
   <span class="token keyword">return</span> <span class="token function">mix</span><span class="token punctuation">(</span>factor<span class="token punctuation">,</span> mirrorFactor<span class="token punctuation">,</span> bloomRadius<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token keyword">vec4</span> bloom <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token number">0.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span>bloomFactors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>bloomTintColors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">texture</span><span class="token punctuation">(</span>blurTexture1<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span>bloomFactors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>bloomTintColors<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">texture</span><span class="token punctuation">(</span>blurTexture2<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span>bloomFactors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>bloomTintColors<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">texture</span><span class="token punctuation">(</span>blurTexture3<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span>bloomFactors<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>bloomTintColors<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">texture</span><span class="token punctuation">(</span>blurTexture4<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">+</span><span class="token operator">=</span> <span class="token function">lerpBloomFactor</span><span class="token punctuation">(</span>bloomFactors<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>bloomTintColors<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">texture</span><span class="token punctuation">(</span>blurTexture5<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   bloom <span class="token operator">*</span><span class="token operator">=</span> bloomStrength<span class="token punctuation">;</span>
   <span class="token keyword">vec4</span> orignColor <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>tMap<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
   FragColor <span class="token operator">=</span> orignColor <span class="token operator">+</span> bloom<span class="token punctuation">;</span>

<span class="token punctuation">}</span>`<span class="token punctuation">;</span></code></pre></div>
<h3>CrossFade</h3>
<p>CrossFade效果的原理其实就是基于两个不同场景插值，若是有添加过渡的纹理图片则以纹理图片为基础调整插值：</p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token comment">// mixRatio: 0=>1</span>
<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">vec4</span> texel1 <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span> tMap<span class="token punctuation">,</span> vUv <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> texel2 <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span> tPreMap<span class="token punctuation">,</span> vUv <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>useTexture<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//是否有过渡用的纹理图片</span>
        <span class="token keyword">vec4</span> transitionTexel <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span> tMixTexture<span class="token punctuation">,</span> vUv <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">float</span> r <span class="token operator">=</span> mixRatio <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">+</span> threshold <span class="token operator">*</span> <span class="token number">2.0</span><span class="token punctuation">)</span> <span class="token operator">-</span> threshold<span class="token punctuation">;</span>
        <span class="token keyword">float</span> mixf<span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span><span class="token punctuation">(</span>transitionTexel<span class="token punctuation">.</span>r <span class="token operator">-</span> r<span class="token punctuation">)</span><span class="token operator">*</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token operator">/</span>threshold<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// magic算法??</span>
        FragColor <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span> texel1<span class="token punctuation">,</span> texel2<span class="token punctuation">,</span> mixf <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        FragColor <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span> texel2<span class="token punctuation">,</span> texel1<span class="token punctuation">,</span> mixRatio <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>`<span class="token punctuation">;</span></code></pre></div>
<h3>Glitch</h3>
<p>Glitch效果的核心在于变化UV坐标，从而达到各种扰乱的效果：</p>
<p>生成随机的扰乱数据贴图:</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> dtSize <span class="token operator">=</span> <span class="token number">64</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dataArr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Float32Array</span><span class="token punctuation">(</span> dtSize <span class="token operator">*</span> dtSize <span class="token operator">*</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> dataLength <span class="token operator">=</span> dtSize <span class="token operator">*</span> dtSize<span class="token punctuation">;</span>
<span class="token comment">//填充随机数</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dataLength<span class="token punctuation">;</span> i <span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token function">randFloat</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    dataArr<span class="token punctuation">[</span> i <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    dataArr<span class="token punctuation">[</span> i <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
    dataArr<span class="token punctuation">[</span> i <span class="token operator">*</span> <span class="token number">3</span> <span class="token operator">+</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> dataTexture <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Texture</span><span class="token punctuation">(</span>gl<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    image<span class="token punctuation">:</span> dataArr<span class="token punctuation">,</span>
    generateMipmaps<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    type<span class="token punctuation">:</span> gl<span class="token punctuation">.</span><span class="token constant">FLOAT</span><span class="token punctuation">,</span>
    format<span class="token punctuation">:</span> gl<span class="token punctuation">.</span><span class="token constant">RGB</span><span class="token punctuation">,</span>
    internalFormat<span class="token punctuation">:</span> gl<span class="token punctuation">.</span>renderer<span class="token punctuation">.</span>isWebgl2 <span class="token operator">?</span> gl<span class="token punctuation">.</span><span class="token constant">RGB16F</span> <span class="token punctuation">:</span> gl<span class="token punctuation">.</span><span class="token constant">RGB</span><span class="token punctuation">,</span>
    flipY<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    width<span class="token punctuation">:</span> dtSize<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> uniformsProp <span class="token operator">=</span> <span class="token punctuation">{</span>
     perturbationMap<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> dataTexture <span class="token punctuation">}</span><span class="token punctuation">,</span>
     amount<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.08</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     angle<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     random<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     seed_x<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//-1,1</span>
     seed_y<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//-1,1</span>
     distortion_x<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.5</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     distortion_y<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.6</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     col_s<span class="token punctuation">:</span> <span class="token punctuation">{</span> value<span class="token punctuation">:</span> <span class="token number">0.02</span> <span class="token punctuation">}</span>
 <span class="token punctuation">}</span></code></pre></div>
<p>变换UV坐标模拟多种扰乱效果：</p>
<div class="gatsby-highlight" data-language="glsl"><pre class="language-glsl"><code class="language-glsl"><span class="token keyword">float</span> <span class="token function">rand</span><span class="token punctuation">(</span><span class="token keyword">vec2</span> co<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fract</span><span class="token punctuation">(</span><span class="token function">sin</span><span class="token punctuation">(</span><span class="token function">dot</span><span class="token punctuation">(</span>co<span class="token punctuation">.</span>xy <span class="token punctuation">,</span><span class="token keyword">vec2</span><span class="token punctuation">(</span><span class="token number">12.9898</span><span class="token punctuation">,</span><span class="token number">78.233</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">43758.5453</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//magic</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">vec2</span> p <span class="token operator">=</span> vUv<span class="token punctuation">;</span>
    <span class="token keyword">float</span> xs <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>gl_FragCoord<span class="token punctuation">.</span>x <span class="token operator">/</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">float</span> ys <span class="token operator">=</span> <span class="token function">floor</span><span class="token punctuation">(</span>gl_FragCoord<span class="token punctuation">.</span>y <span class="token operator">/</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> normal <span class="token operator">=</span> texture <span class="token punctuation">(</span>perturbationMap<span class="token punctuation">,</span> p<span class="token operator">*</span>random<span class="token operator">*</span>random<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 1.block effect 块状随机扰乱</span>
      <span class="token comment">// Y轴</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>y<span class="token operator">&lt;</span>distortion_x<span class="token operator">+</span>col_s <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>y<span class="token operator">></span>distortion_x<span class="token operator">-</span>col_s<span class="token operator">*</span>random<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>seed_x<span class="token operator">></span><span class="token number">0.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            p<span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">1.</span> <span class="token operator">-</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>y <span class="token operator">+</span> distortion_y<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            p<span class="token punctuation">.</span>y <span class="token operator">=</span> distortion_y<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// X轴</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>x<span class="token operator">&lt;</span>distortion_y<span class="token operator">+</span>col_s <span class="token operator">&amp;&amp;</span> p<span class="token punctuation">.</span>x<span class="token operator">></span>distortion_y<span class="token operator">-</span>col_s<span class="token operator">*</span>random<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>seed_y<span class="token operator">></span><span class="token number">0.</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            p<span class="token punctuation">.</span>x<span class="token operator">=</span>distortion_x<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            p<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1.</span> <span class="token operator">-</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>x <span class="token operator">+</span> distortion_x<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    p<span class="token punctuation">.</span>x<span class="token operator">+</span><span class="token operator">=</span>normal<span class="token punctuation">.</span>x<span class="token operator">*</span>seed_x<span class="token operator">*</span><span class="token punctuation">(</span>random<span class="token operator">/</span><span class="token number">5.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span>y<span class="token operator">+</span><span class="token operator">=</span>normal<span class="token punctuation">.</span>y<span class="token operator">*</span>seed_y<span class="token operator">*</span><span class="token punctuation">(</span>random<span class="token operator">/</span><span class="token number">5.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2.RGB移位效果</span>
    <span class="token keyword">vec2</span> offset <span class="token operator">=</span> amount <span class="token operator">*</span> <span class="token keyword">vec2</span><span class="token punctuation">(</span> <span class="token function">cos</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">sin</span><span class="token punctuation">(</span>angle<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> cr <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>tMap<span class="token punctuation">,</span> p <span class="token operator">+</span> offset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> cga <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>tMap<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">vec4</span> cb <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span>tMap<span class="token punctuation">,</span> p <span class="token operator">-</span> offset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    FragColor <span class="token operator">=</span> <span class="token keyword">vec4</span><span class="token punctuation">(</span>cr<span class="token punctuation">.</span>r<span class="token punctuation">,</span> cga<span class="token punctuation">.</span>g<span class="token punctuation">,</span> cb<span class="token punctuation">.</span>b<span class="token punctuation">,</span> cga<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//3.雪花效果</span>
    <span class="token keyword">vec4</span> snow <span class="token operator">=</span> <span class="token number">200.</span><span class="token operator">*</span>amount<span class="token operator">*</span><span class="token keyword">vec4</span><span class="token punctuation">(</span><span class="token function">rand</span><span class="token punctuation">(</span><span class="token keyword">vec2</span><span class="token punctuation">(</span>xs <span class="token operator">*</span> random<span class="token punctuation">,</span>ys <span class="token operator">*</span> random<span class="token operator">*</span><span class="token number">50.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    FragColor <span class="token operator">=</span> FragColor<span class="token operator">+</span> snow<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Vignette</h3>
<p>Vignette效果是根据当前片元的采样UV坐标与UV中心坐标的距离，对屏幕的颜色进行插值影响：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">vec4 <span class="token function">mainImage</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">in</span> vec4 inputColor<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">in</span> vec2 uv<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> vec2 center <span class="token operator">=</span> <span class="token function">vec2</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	vec3 color <span class="token operator">=</span> inputColor<span class="token punctuation">.</span>rgb<span class="token punctuation">;</span>
	#ifdef <span class="token constant">ESKIL</span>
  <span class="token comment">// Enable Eskil's vignette technique</span>
		vec2 coord <span class="token operator">=</span> <span class="token punctuation">(</span>uv <span class="token operator">-</span> center<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token function">vec2</span><span class="token punctuation">(</span>offset<span class="token punctuation">)</span><span class="token punctuation">;</span>
		color <span class="token operator">=</span> <span class="token function">mix</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> <span class="token function">vec3</span><span class="token punctuation">(</span><span class="token number">1.0</span> <span class="token operator">-</span> darkness<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">dot</span><span class="token punctuation">(</span>coord<span class="token punctuation">,</span> coord<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	#<span class="token keyword">else</span>
		float d <span class="token operator">=</span> <span class="token function">distance</span><span class="token punctuation">(</span>uv<span class="token punctuation">,</span> center<span class="token punctuation">)</span><span class="token punctuation">;</span>
		color <span class="token operator">*=</span> <span class="token function">smoothstep</span><span class="token punctuation">(</span><span class="token number">0.8</span><span class="token punctuation">,</span> offset <span class="token operator">*</span> <span class="token number">0.799</span><span class="token punctuation">,</span> d <span class="token operator">*</span> <span class="token punctuation">(</span>darkness <span class="token operator">+</span> offset<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//边缘</span>
 		<span class="token comment">//smoothstep(edge0, edge1, x):</span>
		<span class="token comment">//t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);</span>
    <span class="token comment">//return t * t * (3.0 - 2.0 * t);</span>
	#endif
	<span class="token keyword">return</span> <span class="token function">vec4</span><span class="token punctuation">(</span>color<span class="token punctuation">,</span> inputColor<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  vec4 textureColor <span class="token operator">=</span> <span class="token function">texture</span><span class="token punctuation">(</span> tMap<span class="token punctuation">,</span> vUv <span class="token punctuation">)</span><span class="token punctuation">;</span>
  FragColor <span class="token operator">=</span>  <span class="token function">mainImage</span><span class="token punctuation">(</span>textureColor<span class="token punctuation">,</span> vUv<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h3>Depth of Field（DOF）</h3>
<p>DOF的效果旨在模仿相机的<a href="https://capbone.com/depth-of-field-and-aperture-focal-distance/">景深</a>概念，根据一个阀值范围和物体相对与相机的深度，对屏幕颜色进行模糊处理：</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">vec4 <span class="token function">calculateBokeh</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">in</span> vec4 inputColor<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">in</span> vec2 uv<span class="token punctuation">,</span> <span class="token keyword">const</span> <span class="token keyword">in</span> float depth<span class="token punctuation">,</span> sampler2D inputBuffer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	vec2 aspectCorrection <span class="token operator">=</span> <span class="token function">vec2</span><span class="token punctuation">(</span><span class="token number">1.0</span><span class="token punctuation">,</span> aspect<span class="token punctuation">)</span><span class="token punctuation">;</span>
	float focusNear <span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span>focus <span class="token operator">-</span> dof<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	float focusFar <span class="token operator">=</span> <span class="token function">clamp</span><span class="token punctuation">(</span>focus <span class="token operator">+</span> dof<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> <span class="token number">1.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// Calculate a DoF mask.</span>
	float low <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span>depth<span class="token punctuation">,</span> focusNear<span class="token punctuation">)</span><span class="token punctuation">;</span>
	float high <span class="token operator">=</span> <span class="token function">step</span><span class="token punctuation">(</span>focusFar<span class="token punctuation">,</span> depth<span class="token punctuation">)</span><span class="token punctuation">;</span>

	float factor <span class="token operator">=</span> <span class="token punctuation">(</span>depth <span class="token operator">-</span> focusNear<span class="token punctuation">)</span> <span class="token operator">*</span> low <span class="token operator">+</span> <span class="token punctuation">(</span>depth <span class="token operator">-</span> focusFar<span class="token punctuation">)</span> <span class="token operator">*</span> high<span class="token punctuation">;</span>
	vec2 dofBlur <span class="token operator">=</span> <span class="token function">vec2</span><span class="token punctuation">(</span><span class="token function">clamp</span><span class="token punctuation">(</span>factor <span class="token operator">*</span> aperture<span class="token punctuation">,</span> <span class="token operator">-</span>maxBlur<span class="token punctuation">,</span> maxBlur<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	vec2 dofblur9 <span class="token operator">=</span> dofBlur <span class="token operator">*</span> <span class="token number">0.9</span><span class="token punctuation">;</span>
	vec2 dofblur7 <span class="token operator">=</span> dofBlur <span class="token operator">*</span> <span class="token number">0.7</span><span class="token punctuation">;</span>
	vec2 dofblur4 <span class="token operator">=</span> dofBlur <span class="token operator">*</span> <span class="token number">0.4</span><span class="token punctuation">;</span>

	vec4 color <span class="token operator">=</span> inputColor<span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>   <span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.15</span><span class="token punctuation">,</span>  <span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.40</span><span class="token punctuation">,</span>  <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.37</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">,</span>  <span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.37</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.4</span><span class="token punctuation">,</span>   <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofBlur<span class="token punctuation">)</span><span class="token punctuation">;</span>

	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.15</span><span class="token punctuation">,</span>  <span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.37</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">,</span>  <span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.37</span><span class="token punctuation">,</span>  <span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.15</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.15</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.37</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur9<span class="token punctuation">)</span><span class="token punctuation">;</span>

	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.40</span><span class="token punctuation">,</span>  <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.4</span><span class="token punctuation">,</span>   <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>   <span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur7<span class="token punctuation">)</span><span class="token punctuation">;</span>

	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.4</span><span class="token punctuation">,</span>   <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>  <span class="token operator">-</span><span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span>  <span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.4</span><span class="token punctuation">,</span>   <span class="token number">0.0</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">0.29</span><span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>
	color <span class="token operator">+=</span> <span class="token function">texture</span><span class="token punctuation">(</span>inputBuffer<span class="token punctuation">,</span> uv <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token function">vec2</span><span class="token punctuation">(</span> <span class="token number">0.0</span><span class="token punctuation">,</span>   <span class="token number">0.4</span> <span class="token punctuation">)</span> <span class="token operator">*</span> aspectCorrection<span class="token punctuation">)</span> <span class="token operator">*</span> dofblur4<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> color <span class="token operator">/</span> <span class="token number">41.0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Todo：</p>
<ul>
<li class="task-list-item">
<p><input type="checkbox" disabled> ToneMapping</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" checked disabled> Vignette</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> LensFlare</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> ReProjection</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" checked disabled> Depth of Field（DOF）</p>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled> Motion Blur</p>
</li>
</ul></div><div class="jsx-3827537667"><div id="backToTop" class="jsx-3827537667"></div><div class="jsx-3827537667 gotop "><img src="/LG-Blog-Gatsby/static/recive-9df7de779021f757d61dad14241a3686.png" width="100px" class="jsx-3827537667"/></div></div><footer><div class="jsx-126278577 links"><a href="/LG-Blog-Gatsby/shadow-map/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em"><path d="M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"></path></svg><h4 class="jsx-126278577">ShadowMap学习笔记<!-- --> <time class="jsx-126278577">2019-07-02<!-- --> </time></h4></a><a href="/LG-Blog-Gatsby/blender-record/"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em"><path d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg><h4 class="jsx-126278577">Blender快捷键备忘<!-- --> <time class="jsx-126278577">2019-06-01</time></h4></a></div></footer></article></main><footer class="jsx-2344609357 footer"><ul>
<li>© todaylg 2018</li>
<li>build base on <a href="https://www.gatsbyjs.org/">gatsby</a> and <a href="https://github.com/greglobinski/gatsby-starter-hero-blog">hero-starter</a></li>
</ul></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'undefined', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-template-js","jsonName":"post-processing-1e1","path":"/post-processing/"};window.dataPath="576/path---post-processing-1-e-1-4b1-tjBOWRqni54uIsa3NvysxTh9KI";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app.114d644fbd0f178a7b99.css","/app-bab684d8b8f29b3f4d28.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-ef9160364eaafc77296f.js"],"component---src-templates-category-template-js":["/component---src-templates-category-template-js-69e304dab4c53293a622.js"],"component---src-templates-post-template-js":["/component---src-templates-post-template-js.e00996c3b58f2f9b9719.css","/component---src-templates-post-template-js-8e85dd8dc3a92e7303c1.js"],"component---src-templates-page-template-js":["/component---src-templates-page-template-js-2ccd560dedf3b49e24e9.js"],"component---src-pages-404-js":["/component---src-pages-404-js-61159dbda7c550a771b9.js"],"component---src-pages-category-js":["/component---src-pages-category-js-9fce64549a9d43605363.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-a62f31ded2c9d9e91986.js"],"component---src-pages-index-js":["/component---src-pages-index-js-5f439d23aa34c984adb7.js"],"component---src-pages-search-js":["/component---src-pages-search-js-fe9e20cb240b3edea409.js"]};/*]]>*/</script><script src="/LG-Blog-Gatsby/webpack-runtime-ca48ef97ea7164bb4690.js" async=""></script><script src="/LG-Blog-Gatsby/app-bab684d8b8f29b3f4d28.js" async=""></script><script src="/LG-Blog-Gatsby/component---src-templates-post-template-js-8e85dd8dc3a92e7303c1.js" async=""></script><script src="/LG-Blog-Gatsby/0-c0983f293ccd2b817b46.js" async=""></script></body></html>