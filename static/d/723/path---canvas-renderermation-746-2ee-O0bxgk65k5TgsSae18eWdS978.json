{"data":{"post":{"id":"42473e4e-508d-5857-9342-668888728cfa","html":"<p>å®ä¹ æœŸé—´æ¥è§¦åˆ°äº†Canvas2Dæ¸²æŸ“ä¸æ•°æ®å¯è§†åŒ–ï¼Œç„¶åè¿›è¡Œäº†ä¸€æ³¢æ¢ç©¶å’Œå®è·µï¼š</p>\n<p><strong>æ¢ç©¶èƒ½å¦åœ¨ä¿ç•™é«˜çµæ´»æ€§åŒæ—¶ï¼Œå€ŸåŠ©WebGL Rendereræ¥çªç ´SVGä¸Canvas2D Rendereræ¸²æŸ“å¤§é‡èŠ‚ç‚¹çš„ç“¶é¢ˆã€‚</strong></p>\n<p>D3.jsçš„çµæ´»æ€§é«˜ï¼Œä½†æ˜¯Rendererè¿˜åœç•™åœ¨Canvas2D+SVGçš„æƒ…å†µï¼Œåœ¨æ¸²æŸ“èŠ‚ç‚¹åˆ°è¾¾ä¸‡çº§çš„æ—¶å€™ä¼šè¢«å¡åœ¨Canvas2Dçš„ç“¶é¢ˆã€‚EChartsæœ‰WebGLæ¸²æŸ“ï¼Œä½†æ˜¯å…¶é«˜åº¦å°è£…åˆä½¿å…¶çš„çµæ´»æ€§å·®å¼ºäººæ„ã€‚</p>\n<p>é‚£åŸºäºå½“å‰Canvas2Dçš„æ¸²æŸ“æ¡†æ¶ï¼Œæ‚ä¸€ä¸ªRendererä½¿ç”¨Canvas2D+WebGLä¸”è¶³å¤Ÿåº•å±‚çš„æ¡†æ¶æ˜¯ä¸æ˜¯å°±éå¸¸æœ‰æ„ä¹‰äº†å‘¢ï¼Ÿ</p>\n<p>å…ˆä¸Šå®è·µç»“æœï¼š</p>\n<p>åŸºäºPixi.jsï¼š<a href=\"https://github.com/todaylg/PGraph\">PGraph</a></p>\n<p>åŸºäºCreate.jsï¼š<a href=\"https://github.com/todaylg/CiCi\">CiCi</a></p>\n<p>å›åˆ°è¿‡ç¨‹ï¼Œçœ‹çœ‹åˆå­¦ä¹ è§£é”äº†å“ªäº›æ–°çŸ¥è¯†å§~</p>\n<h2>åŸºç¡€çŸ¥è¯†</h2>\n<hr>\n<h4>Canvas/WebGL/SVG</h4>\n<p>æ—¢ç„¶å’±ä»¬ä»é›¶å¼€å§‹ï¼Œé‚£å¿…ç„¶å¾—å…ˆå¤§æ¦‚äº†è§£è¿™ä¸‰å…„å¼Ÿçš„å…³ç³»ï¼ŒWebå¯è§†åŒ–çš„ä¸»æµæŠ€æœ¯å°±æ˜¯è¿™ä¸‰ï¼Œè€Œè¿™ä¸‰åˆå„è‡ªæœ‰å„è‡ªçš„ç‰¹ç‚¹ã€‚</p>\n<p>1.<strong>SVG</strong></p>\n<p>SVGåŠŸèƒ½å¼ºå¤§å¹¶ä¸”å¾ˆçµæ´»ï¼Œå¹¶ä¸”æœ‰ä¸€äº›æ•ˆæœè¿˜æ˜¯ç®€å•å®ç°çš„(æ¯”å¦‚è´èµ›å°”æ›²çº¿ä¸Šç´§è´´æ–‡å­—çš„æ•ˆæœ)ã€‚ä½†æ˜¯æ¯ä¸ªSVGéƒ½æ˜¯ä¸€ä¸ªDOMå…ƒç´ ï¼Œæ•°é‡è¾¾åˆ°ä¸€å®šé™åº¦ä¹‹åä¸å¯é¿å…çš„ä¼šæœ‰æ˜æ˜¾å¡é¡¿ï¼Œå› ä¸ºäº¤äº’ä¼šä½¿å…ƒç´ å‘ç”Ÿæ”¹å˜ï¼ˆä½ç½®ç§»åŠ¨ã€æ ·å¼æ”¹å˜ã€å¢åˆ æ”¹æŸ¥ç­‰ç­‰ï¼‰ä»è€Œè§¦å‘reflowï¼Œreflowä¼šè§¦å‘repaintï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„reflowå¾ˆå¯èƒ½å¯¼è‡´å­èŠ‚ç‚¹ç”šè‡³æ˜¯çˆ¶èŠ‚ç‚¹æˆ–è€…åŒçº§èŠ‚ç‚¹çš„reflowï¼Œè€Œreflowçš„æ€§èƒ½æˆæœ¬å¾ˆé«˜ã€‚</p>\n<p>SVGåœ¨å¤„ç†åƒçº§çš„æ•°é‡æ—¶å°±å·²ç»æ˜¾å¾—å¾ˆåƒåŠ›äº†ã€‚</p>\n<p>2.<strong>Canvas</strong></p>\n<p>Canvaså°±æ²¡æœ‰reflowçš„æ¦‚å¿µäº†ï¼Œåªæœ‰repaintçš„æ¦‚å¿µï¼Œå› æ­¤åœ¨æ€§èƒ½ä¸Šè¦å¥½è¿‡SVGè®¸å¤šã€‚å› ä¸ºCanvaså®é™…ä¸Šåªæ˜¯ä¸€ä¸ªç”»å¸ƒå…ƒç´ ï¼Œé€šè¿‡getContext()æ–¹æ³•ï¼Œä¼ å…¥å‚æ•°ï¼šâ€˜2dâ€™,å¯ä»¥è·å¾—2dç»˜å›¾APIæ¥å£å¯¹è±¡ï¼šCanvasRenderingContext2D,æˆ–è€…ä¼ å…¥å‚æ•°â€™webglâ€™ï¼Œåˆ™å¯è·å¾—3dç»˜å›¾APIã€‚</p>\n<p>æœ‰æ—¶å€™åœ¨äº¤æµçš„æ—¶å€™ä¸€ç›´å¿µå¨Canvasã€Canvasçš„ï¼Œä½†æ˜¯æ„æ€å´æ˜¯åœ¨è¯´CanvasRenderingContext2D,äºŒè€…æ˜¯ä¸€ä¸ªçˆ¶å­çº§çš„å…³ç³»ï¼Œåˆ«ææ··å•¦ã€‚CanvasRenderingContext2Dæ˜¯ç”±æµè§ˆå™¨æŒ‰ç…§ <strong><a href=\"https://www.w3.org/TR/2dcontext/#canvasrenderingcontext2d\">W3C</a></strong> è§„å®šçš„ç»Ÿä¸€æ ‡å‡†å®ç°çš„ã€‚</p>\n<p>3.<strong>WebGL</strong></p>\n<p>WebGLåˆ™æ˜¯ä¸€ç§3Dç»˜å›¾æ ‡å‡†ï¼Œå¯ä»¥ç†è§£ä¸ºOpenGLå’ŒJavaScriptæŠ€æœ¯çš„ç»“åˆã€‚å…è®¸å¼€å‘è€…ç›´æ¥å’ŒGPUè¿›è¡Œé€šä¿¡ï¼Œä»è€Œè·å¾—æ¥è‡ªGPUçš„å¼ºå¤§åŠ›é‡ï¼Œæ¸²æŸ“ä»€ä¹ˆå‡ åä¸‡çº§çš„æ•°é‡éƒ½æ˜¯æ´’æ´’æ°´ï¼ˆæ˜¾å¡ç‰›é€¼çš„è¯ï¼‰ï¼Œå¹¶ä¸”ä¹‹åä¸ç®¡ä»€ä¹ˆç²’å­æ•ˆæœã€å›¾å½¢çº¹ç†ä»€ä¹ˆçš„ï¼Œæƒ³ç”»å•¥å°±èƒ½ç”»å•¥ï¼Œç®€ç›´æ˜¯ä¸ºæ‰€æ¬²ä¸ºã€‚ä½†æ˜¯å¯¹åº”çš„è¿™ä¸œè¥¿æœ‰ç‚¹å¤æ‚ï¼Œç”»äº†ä¸ªç‚¹å°±è¦æ¥è¿‘100è¡Œçš„ä»£ç ã€‚ã€‚ã€‚è¿˜éœ€è¦æ‡‚OpenGLã€‚ã€‚æ„Ÿè§‰å‘æœ‰ç‚¹æ·±ã€‚ã€‚ã€‚ç”»äº†ä¸ªç‚¹ä¹‹åå…ˆè·‘è·¯äº†ã€‚ã€‚</p>\n<h3>Canvas2Dæ¸²æŸ“æ¡†æ¶</h3>\n<h4>PixiJS</h4>\n<p>è¯´åˆ°Pixiï¼Œå¦‚æœä½ åœ¨ç©ä¸€äº›H5æ¸¸æˆçš„æ—¶å€™æœ‰çœ‹è¿‡å®ƒçš„æºç çš„è¯é‚£ç›¸ä¿¡ä½ åº”è¯¥å°±ä¸ä¼šé™Œç”Ÿï¼Œå¾ˆå¤šæ¸¸æˆéƒ½æ˜¯åŸºäºPixiå¼€å‘çš„ï¼Œå¤§åé¼é¼çš„H5æ¸¸æˆæ¡†æ¶Phaserä¹Ÿæ˜¯åŸºäºPixiçš„ï¼Œä½†æ˜¯åŸºäºPixiå¯ä¸ä»…ä»…åªèƒ½å¼€å‘æ¸¸æˆï¼ŒåŒ…æ‹¬å¾ˆå¤šç‚«é…·çš„ç½‘ç«™ã€æ•ˆæœã€ç”šè‡³Appéƒ½å¯ä»¥åŸºäºPixiå¼€å‘ï¼ŒPixiæ˜¯ä¸€ä¸ªè¶…å¿«(å·ç§°æœ€å¿«)çš„2Dæ¸²æŸ“å¼•æ“ï¼Œæ ¹æ®è®¾å¤‡å¯¹WebGlã€Canvasçš„æ”¯æŒæƒ…å†µæ™ºèƒ½è¿›è¡Œæ¸²æŸ“å™¨çš„åˆ‡æ¢ï¼Œä»è€Œä¿è¯å…¼å®¹æ€§ä¸é«˜é€Ÿã€‚</p>\n<p>å¤´å›æ‰“å¼€ <strong><a href=\"http://www.pixijs.com/\">Pixiå®˜ç½‘</a></strong> çš„æˆ‘ç›´æ¥è¢«æ¶²ä½“äº‘çš„æ•ˆæœç»™å“è·ªäº†=>ã€‚ã€‚ã€‚ä¹‹åæ‰‹ä¸€ä¸ªä¸å°å¿ƒåˆç‚¹åˆ°äº†å®ƒçš„ <strong><a href=\"http://www.pixijs.com/gallery\">ç”»å»Š</a></strong> é‡Œï¼Œæœ¬å¹´ä»½çš„è†ç›–ä¹Ÿéƒ½äº¤ä»£åœ¨é‚£äº†ã€‚ã€‚ã€‚</p>\n<p>å°è±¡æ¯”è¾ƒæ·±çš„æ˜¯ <strong><a href=\"http://www.weareuprising.com/work\">Weareuprising</a></strong> æˆ‘æ¬¡ã€‚ã€‚è¿™ç¢ç‰‡ç‰¹æ•ˆå’Œå™ªç‚¹ç‰¹æ•ˆï¼Œç®€ç›´äº†ã€‚ã€‚æ„Ÿè§‰è¿˜æ˜¯æŒ‰éŸ³é¢‘é¼“ç‚¹åˆ†æ•£çš„ã€‚ä¸çŸ¥é“æ˜¯ä¸æ˜¯é”™è§‰ã€‚ã€‚ä¸€ç›´æ²¡é—²ä¸‹æ—¶é—´æ¥ç ”ç©¶ï¼Œæœ‰ç©ºä¸€å®šè¦æ‰’ä¸‹æ¥å¥½å¥½ç…ç…(Flag)ï¼ï¼ï¼è§†éŸ³é¢‘ç»“åˆç©çš„é£èµ·çš„=> <strong><a href=\"http://na.leagueoflegends.com/en/featured/champions/trial-of-the-kraken-priestess\">LOL</a></strong>ã€ <strong><a href=\"http://goplaces.theheinekencompany.com/en/age-gate\">Goplaces</a></strong> å±…ç„¶è¿˜å¯ä»¥å°†äº¤äº’å’Œè§†é¢‘è¿™æ ·ç»“åˆã€‚ã€‚ã€‚çœŸçš„æ˜¯ç»™è·ªäº†ã€‚ã€‚</p>\n<h4>CreateJS</h4>\n<p>å’ŒPixiä¸€æ ·ï¼ŒCreateJSä¹Ÿæ˜¯ä¸€ä¸ªH5 2Dæ¸²æŸ“å¼•æ“ï¼Œä¹Ÿæä¾›WebGLä¸Canvas2Dä¸¤ä¸ªRendererï¼Œç”±Adobeå¼€æºï¼Œåœ¨ä»Šå¹´9.16å·çªç„¶æ›´æ–°äº†1.0ç‰ˆæœ¬ï¼Œä½†æ˜¯è¦çŸ¥é“ä¸Šä¸€ä¸ªç‰ˆæœ¬0.8.2æ˜¯åœ¨2015å¹´æ›´æ–°çš„ã€‚ã€‚ã€‚ã€‚æ—¶éš”2å¹´çªç„¶æ›´æ–°äº†ä¸€ä¸‹ï¼Œè¿™ä¸¤å¹´ä»–ä»¬åˆ°åº•ç»å†äº†ä»€ä¹ˆï¼Ÿè€Œä¸”è¿å®˜ç½‘éƒ½åœç•™åœ¨ä¸¤å¹´å‰ã€‚ã€‚å„ç§è«åå…¶å¦™ä¸ç”±çš„è®©äººå¯¹è¿™ä¸ªæ¡†æ¶æœ‰ç‚¹ç•æƒ§ï¼ˆå¼ƒå‘è¾¹ç¼˜å¾˜å¾Šï¼Ÿ ï¼‰ã€‚ã€‚</p>\n<p>ä¸è¿‡å¾—ç›Šäºå±äºAdobeå…¨å®¶æ¡¶çš„ä¸€å‘˜ï¼ŒFlashï¼ˆç°åœ¨æ˜¯Animate CCï¼‰å¯¼å‡ºçš„WebåŠ¨ç”»å°±æ˜¯åŸºäºè¿™ä¸ªæ¡†æ¶ç”Ÿæˆçš„ï¼Œå¹¶ä¸”åœ¨æ–‡ä»¶å¤§å°ä¸Šåªæœ‰Pixiçš„ä¸€åŠï¼Œè¿™äº›æ˜¯CreateJSçš„ä¼˜åŠ¿ï¼Œé‚£ä¸¤ä¸ªæ¡†æ¶åœ¨æ¸²æŸ“ä¸Šä¼šæœ‰å•¥ä¸åŒå‘¢ï¼Ÿå¾€åå’±ä»¬ä¼šç»§ç»­æ¢ç©¶ã€‚</p>\n<h4>Two.js</h4>\n<p><a href=\"https://two.js.org/\">Two.js</a>å’ŒCreateJSä¸€æ ·ï¼Œç»™äººçš„æ„Ÿè§‰éƒ½æ˜¯æ‡’ç™Œæ‚£è€…ï¼Œtwo.jsæœ€è¿‘çš„ç‰ˆæœ¬æ›´æ–°çš„æ—¶é—´æ˜¯åœ¨2016å¹´2æœˆã€‚ã€‚ã€‚</p>\n<p>Two.jsä¹Ÿæä¾›WebGLä¸Canvas2Dä¸¤ä¸ªRendererï¼Œä½†æ˜¯å…¶åœ¨WebGL Rendereræ¸²æŸ“çš„æ—¶å€™çš„æŠ—é”¯é½¿æ•ˆæœéå¸¸çš„ç†æƒ³ï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/b7fLwvcd/1/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>ä½†æ˜¯ä¸€æ–¹é¢è¿™å…„å¼Ÿé•¿æ—¶é—´ä¸æ›´æ–°åƒæ˜¯æ”¾å¼ƒæ²»ç–—äº†ä¸€æ ·ï¼Œå¦ä¸€æ–¹é¢è¿™å…„å¼Ÿåœ¨æ€§èƒ½è¡¨ç°ä¸Šä¸å¤ªç†æƒ³ã€‚ã€‚ã€‚æˆ–è€…è¯´ååˆ†ä¸ç†æƒ³ï¼ŒåŸå› è¿˜æ²¡æœ‰æ·±ç©¶ï¼š</p>\n<p>[æµ‹è¯•åœ¨è¿™é‡Œ](<a href=\"https://two.js.org/examples/particle-sandbox.html?type=webgl&#x26;shapes=circle&#x26;operations=translation&#x26;count=2000\"></a><a href=\"https://two.js.org/examples/particle-sandbox.html?type=webgl&#x26;shapes=circle&#x26;operations=translation&#x26;count=2000\">https://two.js.org/examples/particle-sandbox.html?type=webgl&#x26;shapes=circle&#x26;operations=translation&#x26;count=2000</a>\n)</p>\n<p>2000ä¸ªè¿åŠ¨çš„åœ†åœ¨WebGLä¸‹ä¹ŸGGäº†ã€‚ã€‚ã€‚ã€‚è¦çŸ¥é“D3ç»™1000å¤šä¸ªèŠ‚ç‚¹ä½¿ç”¨d3-forceä¸”æ˜¯ä½¿ç”¨ç”¨SVGçš„éƒ½èƒ½ååˆ†æµç•…ã€‚ã€‚ã€‚ã€‚æ‰€ä»¥ä¸å†æ·±å…¥æ­¤æ¡†æ¶ã€‚</p>\n<h3></h3>\n<h3>Cytoscape</h3>\n<p>åœ¨å¯è§†åŒ–æ¡†æ¶ä¸­ï¼Œç›¸æ¯”äºD3çš„å¤§çº¢å¤§ç´«ï¼Œ <strong><a href=\"http://js.cytoscape.org/#introduction/factsheet\">Cytoscape</a></strong> å°±æ˜¾å¾—ä½è°ƒå¾ˆå¤šäº†ï¼ŒCytoscapeæ˜¯ä¸€ä¸ªç”¨äºåˆ†æå’Œå¯è§†åŒ–å›¾å½¢åŠå…³ç³»ç½‘çš„åº“ï¼Œä¸åŒäºD3è¿˜ä¿ç•™SVGçš„æ¸²æŸ“æ–¹å¼ï¼ŒCytoscapeåªåŸºäºCanvas2Dè¿›è¡Œäº†ä¸€ç³»åˆ—çš„å°è£…ï¼Œä½œè€…æ˜¯å¤šä¼¦å¤šå¤§å­¦çš„Donnelly Centreï¼ˆç»™æ•°å­¦å®¶ä»¬çŒ®ä¸Šè†ç›–ã€‚ã€‚ã€‚ï¼‰åŠŸèƒ½è¿˜æ˜¯å¼ºå¤§çš„ã€‚</p>\n<p>ä½†æ˜¯æ­£å¦‚ä¹‹å‰æ‰€è¿°ï¼Œå½“æ•°é‡è¾¾åˆ°ä¸‡çº§çš„æ—¶å€™ï¼ŒCanvas2dRenderä¹Ÿå¾—GGäº†ã€‚</p>\n<p>æˆ‘ä»¬å°±ä»¥ <strong><a href=\"http://js.cytoscape.org/demos/visual-style/\">Cytoscapeå®˜ç½‘çš„ä¸€ä¸ªåŸºæœ¬ä¾‹å­</a></strong> ä¸ºå®ç°ç›®æ ‡ã€‚</p>\n<p>è¿™ä¸ªä¾‹å­éº»é›€è™½å°äº”è„ä¿±å…¨ï¼ŒåŒ…å«çš„ä¸œè¥¿æŒºå¤šçš„ï¼Œé¦–å…ˆæ˜¯ <strong>èŠ‚ç‚¹çš„å‡ ä½•ä½“ï¼ˆçŸ©å½¢ã€ä¸‰è§’å½¢ã€åœ†ï¼‰</strong>ã€<strong>èŠ‚ç‚¹ã€è¾¹ä¸Šçš„å­—ã€è¾¹ï¼ˆç›´çº¿å’Œæ›²çº¿ï¼‰</strong>ã€<strong>è¾¹ä¸¤ç«¯çš„ç®­å¤´</strong>ã€<strong>åˆç†çš„å¸ƒå±€</strong>ã€<strong>éšé¼ æ ‡ç„¦ç‚¹çš„æ‹–æ‹½å’Œæ”¾å¤§</strong>ã€‚</p>\n<hr>\n<h3>Pixiæºç æµ…è¯»</h3>\n<p>å¾—ç›ŠäºPixiçš„ä»£ç æ¨¡å—åŒ–åˆ†å¾—å¾ˆæ¸…æ¥šï¼Œæ‰€ä»¥è™½ç„¶å…·ä½“çš„ä»£ç å’±çœ‹ä¸æ‡‚ï¼Œä½†æ˜¯æ–‡ä»¶åå­—çœ‹å¾—æ‡‚å•Šï¼Œå‡½æ•°åå­—çœ‹å¾—æ‡‚å•Šå“ˆå“ˆå“ˆï¼Œä¹Ÿèƒ½å¤§æ¦‚çŸ¥é“ä¸ªæ¥é¾™å»è„‰å•¦, é¦–å…ˆä»å…¥å£æ–‡ä»¶index.jså¼€å§‹çª¥æ¢ä¸€ä¸‹ï¼ˆè¿™é‡Œæ˜¯v4ç‰ˆæœ¬çš„ç¬”è®°ï¼‰ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// import polyfills. Done as an export to make sure polyfills are imported first</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./polyfill'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// export core</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// export libs</span>\n<span class=\"token keyword\">import</span> deprecation <span class=\"token keyword\">from</span> <span class=\"token string\">'./deprecation'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//æ—§ç‰ˆå­˜åœ¨ï¼Œä½†æ˜¯æ–°ç‰ˆpixiå·²ä¸å†æ”¯æŒçš„ç‰¹æ€§åšå…¼å®¹æ€§æç¤º</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> accessibility <span class=\"token keyword\">from</span> <span class=\"token string\">'./accessibility'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> extract <span class=\"token keyword\">from</span> <span class=\"token string\">'./extract'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//such like saving an Image</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> extras <span class=\"token keyword\">from</span> <span class=\"token string\">'./extras'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> filters <span class=\"token keyword\">from</span> <span class=\"token string\">'./filters'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//WebGL-Only</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> interaction <span class=\"token keyword\">from</span> <span class=\"token string\">'./interaction'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//events</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> loaders <span class=\"token keyword\">from</span> <span class=\"token string\">'./loaders'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//loading assets, data, and other resources dynamically.</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> mesh <span class=\"token keyword\">from</span> <span class=\"token string\">'./mesh'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> particles <span class=\"token keyword\">from</span> <span class=\"token string\">'./particles'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> prepare <span class=\"token keyword\">from</span> <span class=\"token string\">'./prepare'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>è¿™æ ·çœ‹è¿™ä¸ªcoreåº”è¯¥å°±æ˜¯bossäº†ï¼Œæœç„¶ä¸å‡ºæ‰€æ–™ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./const'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//æ‰€æœ‰é™æ€å˜é‡</span>\n<span class=\"token keyword\">export</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./math'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//æ•°å­¦ç›¸å…³è®¡ç®—</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> utils <span class=\"token keyword\">from</span> <span class=\"token string\">'./utils'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//ä¸€äº›å°çš„å·¥å…·æ–¹æ³•</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> ticker <span class=\"token keyword\">from</span> <span class=\"token string\">'./ticker'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//æ—¶é’Ÿç±»ï¼Œæ§åˆ¶æ¸²æŸ“å¸§ç‡</span>\n<span class=\"token keyword\">import</span> settings <span class=\"token keyword\">from</span> <span class=\"token string\">'./settings'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> CanvasRenderer <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/canvas/CanvasRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> WebGLRenderer <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/WebGLRenderer'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> settings<span class=\"token punctuation\">,</span> utils<span class=\"token punctuation\">,</span> ticker<span class=\"token punctuation\">,</span> CanvasRenderer<span class=\"token punctuation\">,</span> WebGLRenderer <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> glCore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'pixi-gl-core'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Bounds <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/Bounds'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> DisplayObject <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/DisplayObject'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//å¯å±•ç¤ºå¯¹è±¡çš„åŸºç¡€ï¼ŒåŸºç¡€åˆ°ç›´æ¥ç»§æ‰¿è‡ªEventEmitterç±»,ä½†æ˜¯ä»–å´æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä½œä¸ºæ‰€æœ‰å¾…å±•ç¤ºå¯¹è±¡çš„åŸºç±»,ç»§æ‰¿ä¹‹åå¤å†™äº†æ‰æœ‰æ„ä¹‰ã€‚</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Container <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/Container'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//æœ€å¼ºå¤§çš„åŸºç¡€ç±»</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Transform <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/Transform'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> TransformStatic <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/TransformStatic'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> TransformBase <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./display/TransformBase'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Sprite <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sprites/Sprite'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> CanvasSpriteRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sprites/canvas/CanvasSpriteRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> CanvasTinter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sprites/canvas/CanvasTinter'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> SpriteRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./sprites/webgl/SpriteRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Text <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./text/Text'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> TextStyle <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./text/TextStyle'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> TextMetrics <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./text/TextMetrics'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Graphics <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./graphics/Graphics'</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//å›¾å½¢</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> GraphicsData <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./graphics/GraphicsData'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> GraphicsRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./graphics/webgl/GraphicsRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> CanvasGraphicsRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./graphics/canvas/CanvasGraphicsRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Spritesheet <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/Spritesheet'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Texture <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/Texture'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> BaseTexture <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/BaseTexture'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> RenderTexture <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/RenderTexture'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> BaseRenderTexture <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/BaseRenderTexture'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> VideoBaseTexture <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/VideoBaseTexture'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> TextureUvs <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./textures/TextureUvs'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> CanvasRenderTarget <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/canvas/utils/CanvasRenderTarget'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Shader <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./Shader'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> WebGLManager <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/managers/WebGLManager'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> ObjectRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/utils/ObjectRenderer'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> RenderTarget <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/utils/RenderTarget'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Quad <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/utils/Quad'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> SpriteMaskFilter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/filters/spriteMask/SpriteMaskFilter'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Filter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./renderers/webgl/filters/Filter'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">as</span> Application <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./Application'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span> autoDetectRenderer <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'./autoDetectRenderer'</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>é€šè¿‡çœ‹ç»§æ‰¿å…³ç³»å¯ä»¥å¤§æ¦‚äº†è§£åˆ°è¿™ä¸ªDisplayObjectç±»æ˜¯Pixiä¸­æ‰€æœ‰å¯å±•ç¤ºå¯¹è±¡çš„åŸºç¡€äº†ï¼Œæ˜¯ä¸€ä¸ªåŸºç¡€çš„æŠ½è±¡ç±»ï¼ŒContainerç±»ç»§æ‰¿äºDisplayObjectç±»,ä¸»è¦æ·»åŠ äº†ä¸€äº›å¯¹å­å…ƒç´ çš„æ“ä½œæ–¹æ³•ï¼ŒSpriteç±»åˆç»§æ‰¿äºContainerç±»ï¼Œåˆ°è¿™å·²ç»æ˜¯æˆ‘ä»¬å¯ä»¥çœ‹è§çš„å®ä¾‹äº†ï¼Œä¹Ÿå°±æ˜¯å·²ç»å…·è±¡åŒ–äº†çš„ï¼Œæ‰€å®ç°çš„æ–¹æ³•è¿”å›çš„éƒ½å·²ç»æ˜¯è®¡ç®—å¾—å‡ºçš„å…·ä½“æ•°å€¼äº†ï¼ŒGraphç±»ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œç»§æ‰¿Containerç±»ï¼Œè€ŒTextç±»åˆ™ç»§æ‰¿è‡ªSpriteç±»ï¼Œè¿™äº›éƒ½æ˜¯å…·è±¡åŒ–çš„å®ä¾‹äº†ã€‚</p>\n<p>è€Œç©¿æ’åœ¨å…¶ä¸­çš„Textureæ¯”è¾ƒå¤æ‚ï¼Œååˆ†æ‡µé€¼ã€‚ã€‚æ„Ÿè§‰å¥½åƒç¼ºå›¾å½¢å­¦çš„çŸ¥è¯†äº†ã€‚ã€‚æ‰€ä»¥çŸä¸€çœ¼å¾—äº†å…ˆã€‚ã€‚æœ€åŸå§‹çš„æ˜¯BasicTextureç±»ï¼Œæ ¹æ®ä¸åŒçš„èµ„æºåˆæœ‰VideoBaseTextureè¿™ç§å¤„ç†å…·ä½“ç±»å‹èµ„æºçš„è¾…åŠ©ç±»ï¼Œæœ€åRenderTextureæ ¹æ®WebGLå’ŒCanvasåˆä¼šæœ‰RenderTargetç±»å’ŒCanvasBufferç±»ã€‚ã€‚ã€‚ã€‚ã€‚é¢O__O â€œâ€¦è¿˜æ˜¯ä¸çœ‹äº†ğŸ˜‚</p>\n<p><strong>(Fromï¼š2019.12.31):çœŸæ˜¯èœé¸¡ã€‚ã€‚ã€‚</strong> </p>\n<p>å¯¹äº†ï¼æˆ‘ä»¬ä¸»è¦ç ”ç©¶çš„æ˜¯å›¾å½¢ï¼Œæ‰€ä»¥é‡ç‚¹ç…ç…è¿™ä¸ªGraphicsï¼ŒPixiæ¸²æŸ“å›¾å½¢ä¹Ÿæ”¯æŒWebGLç®€ç›´ç¾æ»‹æ»‹ï¼Œæ­£å’Œæˆ‘ä»¬æ„ï¼Œå…·ä½“åˆ°ä»£ç å°±æ˜¯æ•°å­¦å®¶ä¸çŸ©é˜µçš„ç‹‚æ¬¢äº†ã€‚ã€‚</p>\n<p>æˆ‘ä»¬å…ˆåœ¨Pixiä¸­ç”»ä¸€äº›åŸºæœ¬çš„å›¾å½¢å¯¹æ¯”ä¸€ä¸‹ç”¨WebGLå’ŒCanvas2dæ¸²æŸ“çš„æƒ…å†µï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹è¿™ä¸¤ç§æ–¹å¼æœ‰ä¸ªå¤§æ¦‚çš„ç†è§£ï¼š</p>\n<p>å…ˆæ¥WebGLï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/mcpg6wos/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>å†çœ‹çœ‹Canvas2Dï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/8cea3qw4/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>é¼ æ ‡æ»šè½®å¯ä»¥æ”¾å¤§ç¼©å°ï¼Œå·¦é”®ç‚¹å‡»åå¯ä»¥æ‹–æ‹½ï¼ˆæ¨¡ä»¿Cytoscapeï¼‰ï¼Œæ”¾åˆ°å¾ˆå¤§ä¹‹åå¯ä»¥çœ‹å‡ºäºŒè€…æ¸²æŸ“ç»“æœè¿˜æ˜¯æœ‰å·®åˆ«çš„ï¼ŒWebGLæ¸²æŸ“çš„å›¾å½¢å³ä½¿åŠ äº†æŠ—é”¯é½¿ã€FXAAï¼ˆFast Approximate Anti-Aliasing å¿«é€Ÿè¿‘ä¼¼æŠ—é”¯é½¿ï¼‰ä½†æ˜¯æ•ˆæœè¿˜æ˜¯å’ŒCanvas2Dæœ‰åŒºåˆ«ï¼ŒWebGLçš„æŠ—é”¯é½¿æ•ˆæœå¹¶ä¸æ˜¯é‚£ä¹ˆçš„ç†æƒ³ï¼ˆå…·ä½“åŸå› æ²¡ææ˜ç™½ï¼Œå¾…ç ”ç©¶WebGLï¼‰ï¼Œè€ŒCanvas2Dçš„æ•ˆæœåˆ™æ˜¯å¾ˆæ£’äº†ã€‚è™½ç„¶WebGLRenderæ•ˆæœæ²¡æœ‰é‚£ä¹ˆå¥½ï¼Œä½†æ˜¯ä¹Ÿè¿˜èƒ½å‡‘åˆï¼Œç­‰æ•°é‡å¤šäº†ä»¥åWebGLRenderçš„ä¼˜åŠ¿å°±ä¼šå‡¸æ˜¾å‡ºæ¥äº†ã€‚</p>\n<h3>èŠ‚ç‚¹</h3>\n<p>é¦–å…ˆè‡ªç„¶æ˜¯æœ€åŸºæœ¬çš„èŠ‚ç‚¹ï¼ŒèŠ‚ç‚¹æ˜¯å„ç§å¤šè¾¹å½¢ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å®ç°å‡ºä¸é”™çš„æ•ˆæœï¼š</p>\n<p>ç¬¬ä¸€ä¸ªå½“ç„¶æ˜¯ç›´æ¥ç”»ï¼Œåœ†è¿˜å¥½è¯´ï¼ˆå¯ä»¥çœ‹å‰é¢çš„ä¾‹å­ï¼‰ï¼Œåªéœ€è¦ç›®æ ‡ç‚¹çš„åæ ‡ä»¥åŠåœ†åŠå¾„å³å¯ã€‚ä½†æ˜¯è¦æ˜¯å¤šè¾¹å½¢çš„è¯å°±å¾—åƒæ•°å­¦äº†ï¼Œéœ€è¦è‡ªå·±è®¡ç®—å‡ºå„ä¸ªé¡¶ç‚¹çš„åæ ‡ï¼Œå¯¹äºæˆ‘è¿™ç§é«˜æ•° = é«˜ä¸­æ•°å­¦çš„é€‰æ‰‹ï¼Œé‚£è‡ªç„¶æ˜¯ç›¸å½“çš„åƒåŠ›ï¼ˆå¾—è¡¥æ•°å­¦å•Š/(ã„’oã„’)/~~ï¼‰ã€‚</p>\n<p>ç¬¬äºŒç§æ–¹æ³•åˆ™æ˜¯å¯åŠ¨PSï¼Œç”»å‡ºéœ€è¦çš„å›¾å½¢ï¼Œå¯¼å‡ºç™½è‰²çš„å›¾å½¢ï¼Œåœ¨Pixiä¸­å°†å›¾ç‰‡è½¬ä¸ºSpriteï¼Œè¿™ä¸‹Pixiå°±å‰å®³äº†ï¼Œå¯ä»¥é€šè¿‡æ›´æ”¹tintæ¥æ›´æ”¹é¢œè‰²ï¼Œè¿™æ ·ä¸€æ¥ä½ ç”»å¾—å‡ºä»€ä¹ˆå›¾ç‰‡ï¼Œå°±èƒ½æ‹¿ä»€ä¹ˆå›¾ç‰‡å½“èŠ‚ç‚¹å•¦ï¼Œä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li>\n<p>ç”±äºå›¾ç‰‡åƒç´ çš„é™åˆ¶ä¹Ÿä¸èƒ½ä¿è¯æ— é™æ”¾å¤§ä¸å¤±çœŸã€‚</p>\n</li>\n<li>\n<p>éœ€è¦è®¡ç®—èŠ‚ç‚¹çš„ç¢°æ’ä½“ç§¯ã€‚</p>\n</li>\n</ul>\n<p>å¯¹äºé—®é¢˜ä¸€å’±ä»¬å¯ä»¥åœ¨Pså¯¼å‡ºçš„æ—¶å€™å°±å¯¼å‡ºé«˜åˆ†è¾¨ç‡çš„å›¾ç‰‡ï¼Œè¿™æ ·å°±èƒ½ä¿è¯åœ¨æ”¾å¤§ä¸€å®šç¨‹åº¦ä»¥å†…æ˜¯æ²¡æœ‰å¤±çœŸçš„ï¼Œè¿™åœ¨å®é™…ä½¿ç”¨ä¸­ä¹Ÿæ˜¯å¯ä»¥æ¥å—äº†çš„ï¼Œæ¯•ç«Ÿè¿˜å¯ä»¥é™åˆ¶æœ€å¤§æ»šåŠ¨æ”¾å¤§çš„å€æ•°å˜›ã€‚æ”¾å¤§çš„é—®é¢˜è§£å†³äº†ä½†æ˜¯åˆå‘ç°spriteåœ¨ç¼©å°åè¾¹ç¼˜é”¯é½¿æ•ˆæœéå¸¸ä¸¥é‡ï¼š <strong><a href=\"https://github.com/pixijs/pixi.js/issues/4205\">å¥‡æ€ªçš„é—®é¢˜</a></strong>,åŸå› è¿˜ä¸å¾—è€ŒçŸ¥ã€‚ã€‚ã€‚æ‰€ä»¥è´¯å½»æˆ‘ä»¬æ›²çº¿æ•‘å›½çš„æ–¹é’ˆï¼Œé‡äº‹ä¸å†³é«˜æ–¯æ¨¡ç³Šï¼Œæˆ‘ä»¬ç»™spriteæ·»ä¸Šä¸€ä¸ªBlurFilterï¼Œæ•ˆæœä¸€ä¸‹åˆå¥½äº†ä¸å°‘~</p>\n<p>ä½†æ˜¯å¯¹äºé—®é¢˜äºŒã€‚ã€‚ã€‚å’±ä»¬å…ˆä»¥åœ†ä¸ºä¾‹å­å³å¯ï¼Œä¸ç„¶è¯é¢˜å°†ä¼šæ²¡æ³•ç»§ç»­äº†ã€‚</p>\n<p>è¿™ç§æ–¹æ³•æœ€åå®ç°çš„ä¾‹å­ï¼ˆæ»šè½®æ”¾å¤§ï¼‰ï¼š</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/z8nwrhj8/7/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<h3>è¾¹</h3>\n<p>è¾¹åˆ†ä¸ºç›´çº¿å’Œæ›²çº¿ä¸¤ç§ï¼Œç›´çº¿è‡ªä¸å¿…å¤šè¯´ï¼Œç›´æ¥lineToå³å¯ï¼Œæ›²çº¿å°±å¾—ç”¨è´å¡å°”æ›²çº¿æ¥ç”»äº†ï¼Œæ‰¯åˆ°è¿™ä¸ªè´å¡å°”æ›²çº¿å°±åˆæ¶‰åŠåˆ°æ•°å­¦å®¶ä»¬çš„ç‹‚æ¬¢äº†ã€‚ã€‚ã€‚ä»€ä¹ˆäºŒé˜¶è´å¡å°”ã€ä¸‰é˜¶è´å¡å°”ã€‚ã€‚ã€‚é‚£è¿™ä¸ªè´å¡å°”æ›²çº¿åˆ°åº•æ˜¯å•¥å‘¢ï¼Ÿ</p>\n<h4>è´å¡å°”æ›²çº¿</h4>\n<p>å…¶å®æ€»è€Œè¨€ä¹‹né˜¶çš„è´å¡å°”æ›²çº¿å°±æœ‰n-1ä¸ªæ§åˆ¶ç‚¹ï¼Œè€Œç”»å‡ºä¸€æ®µè´èµ›å°”æ›²çº¿å°±éœ€è¦èµ·ç‚¹ç»ˆç‚¹ä»¥åŠæ§åˆ¶ç‚¹çš„åæ ‡,è®¡ç®—å…¬å¼å¯è§ <strong><a href=\"https://en.wikipedia.org/wiki/B%C3%A9zier_curve#Quadratic_curves\">Wiki</a></strong>æˆ–è€… <strong><a href=\"http://blog.csdn.net/zhaopenghhhhhh/article/details/17753615\">è¿™é‡Œ</a></strong>,è¦æ˜¯å¯¹æ¨å¯¼è¿‡ç¨‹æœ‰å…´è¶£è¿˜å¯ä»¥çœ‹çœ‹ <strong><a href=\"http://www.cnblogs.com/equal/p/6414263.html\">è¿™é‡Œ</a></strong>(ç»™æ•°å­¦å®¶çŒ®ä¸Šè†ç›–ã€‚ã€‚)ï¼Œç”¨çš„æ—¶å€™ç›´æ¥å¥—å…¬å¼å³å¯ï¼Œæ¯”å¦‚Cytoscapeé‡Œçš„ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//Cytoscape qbezierAt</span>\nmath<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">qbezierAt</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span> p0<span class=\"token punctuation\">,</span> p1<span class=\"token punctuation\">,</span> p2<span class=\"token punctuation\">,</span> t <span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> t<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> t<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> p0 <span class=\"token operator\">+</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">-</span> t<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> t <span class=\"token operator\">*</span> p1 <span class=\"token operator\">+</span> t <span class=\"token operator\">*</span> t <span class=\"token operator\">*</span> p2<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>èµ·ç‚¹å’Œç»ˆç‚¹æˆ‘ä»¬é€šè¿‡æ‰‹åŠ¨èµ‹å€¼æˆ–è€…åé¢è¯´çš„å¸ƒå±€åå°±å¾—åˆ°äº†å…¶åæ ‡ä½ç½®äº†ï¼Œä½†æ˜¯æ§åˆ¶ç‚¹çš„ä½ç½®è¯¥å¦‚ä½•ç§»åŠ¨æ‰èƒ½å®ç°Cytoscapeä¾‹å­ä¸­é‚£æ ·Qå¼¹çš„æ•ˆæœå‘¢ï¼Ÿ</p>\n<p>ä»”ç»†è§‚å¯Ÿçš„è¯å¯ä»¥çœ‹å‡ºåº”è¯¥æ˜¯äºŒé˜¶è´å¡å°”æ›²çº¿ï¼Œæ§åˆ¶ç‚¹å–çš„åº”è¯¥æ˜¯èµ·ç»ˆç‚¹çš„ä¸­ç‚¹ï¼Œä½†æ˜¯é«˜åº¦åº”è¯¥éšç€è·ç¦»çš„å‡å°è€Œå¢åŠ ï¼Œæœ‰äº†å¤§è‡´çš„æƒ³æ³•åæˆ‘ä»¬æƒ³æƒ³å¦‚ä½•å…·ä½“å®ç°ã€‚</p>\n<p><strong>ç¬¬ä¸€ä¸ªæ–¹æ³•å½“ç„¶æ˜¯ç›´æ¥å»ç¿»Cytoscapeçš„æºç çœ‹å®ƒæ˜¯æ€ä¹ˆç®—çš„å°±è¡Œå•¦~</strong></p>\n<p>ç¿»åˆ°Cytoscapeæºç extension/renderer/canvas/drawing-edges.jsï¼Œåˆä¼šå‘ç°CRpç»§æ‰¿çš„æ˜¯BRpï¼Œï¼Œå¾€ä¸Šç¿»å›baseä¸‹çš„coord-ele-mathå°±æ˜¯è®¡ç®—çš„å…·ä½“æ–¹æ³•äº†ï¼Œä¸€æ¡è¾¹çš„ç»˜åˆ¶æ€»å…±æ¶‰åŠå››ä¸ªç‚¹çš„åæ ‡ï¼šsourceã€mid-targetã€mid-sourceã€targetï¼Œæ ¹æ®çº¿å½¢çŠ¶çš„ä¸åŒä»¥åŠç®­å¤´å½¢çŠ¶çš„ä¸åŒå„ä¸ªç‚¹è®¡ç®—çš„æ–¹æ³•åˆä¸åŒï¼ˆæ¶‰åŠè§’åº¦ç­‰ç­‰å› ç´ ï¼‰ï¼Œè†ç›–è·ªç©¿äº†éƒ½æ²¡çœ‹æ‡‚å…·ä½“æ˜¯æ€ä¹ˆç®—çš„ã€‚ã€‚ã€‚æä¸æ‡‚è®¡ç®—çš„æ–¹æ³•ä¹Ÿå°±æä¸æ‡‚ä»£ç ä¸­ä¸€äº›æ•°å€¼çš„å«ä¹‰ã€‚ã€‚ä½†æ˜¯ç›´æ¥ä»æºç ä¸­æ‰’å‡ºæ¥ä¹Ÿæ˜¯å¯ä»¥ç›´æ¥ç”¨çš„ã€‚ã€‚ã€‚æ¯”å¦‚æŠŠç”»ä¸‰è§’å½¢ç®­å¤´çš„ä»£ç ç»™æ‰’å‡ºæ¥ï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/nwf749rn/3/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p><strong>ç¬¬äºŒä¸ªæ–¹æ³•è‡ªç„¶å°±æ˜¯è‡ªå·±æ¥äº†å‘—ã€‚</strong></p>\n<p>æœ‰äº†å‰é¢è¯´çš„æ€è·¯ï¼Œèµ·ç»ˆç‚¹ä»¥ç®­å¤´çš„å‡ ä½•çŠ¶ä¸åŒå–ä¸åŒçš„ä½ç½®ï¼Œæ¯”å¦‚åœ†å–ä¸­å¿ƒï¼Œä¸‰è§’å½¢å–åº•è¾¹ä¸­å¿ƒè¿™æ ·ï¼Œéš¾ç‚¹åœ¨æ§åˆ¶ç‚¹çš„è®¡ç®—ä¸Šï¼Œåˆ—å‡ºäº†ä¸ªäºŒå…ƒäºŒæ¬¡æ–¹ç¨‹ç»„ç”¨ä¸‡èƒ½å…¬å¼éƒ½æ²¡è§£å‡ºæ¥ï¼ˆèœçš„æŠ è„šã€‚ã€‚ï¼‰ï¼Œæ€»ä¹‹ä¿ç•™è¿™ä¸ªæ€è·¯å˜›å¯ä»¥ï¼Œç­‰å¤§ç¥èµæ•™ä¸€ç•ªæˆ–è€…è¡¥è¡¥é«˜æ•°ä»¥åå†ç»§ç»­ç®—å§ã€‚ã€‚ã€‚</p>\n<p>ç¬¬ä¸‰ä¸ªæ–¹æ³•åˆ™æ¯”è¾ƒéº»çƒ¦ï¼šç”±SVGè½¬Canvasæ¥ç›´æ¥ç»˜åˆ¶è´å¡å°”æ›²çº¿ã€‚å…ˆçœ‹d3çš„ä¸€ä¸ªåŸºäºSVGè¾¹æ˜¯è´å¡å°”æ›²çº¿çš„ <strong><a href=\"http://bl.ocks.org/mbostock/1153292\">ä¾‹å­</a></strong>,å®ƒçš„è´å¡å°”æ›²çº¿æ•ˆæœä¸æ­£æ˜¯æˆ‘ä»¬éœ€è¦çš„å—ï¼Ÿçœ‹ä»£ç ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">function</span> <span class=\"token function\">linkArc</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> dx <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> d<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">,</span>\n      dy <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> d<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">,</span>\n      dr <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sqrt</span><span class=\"token punctuation\">(</span>dx <span class=\"token operator\">*</span> dx <span class=\"token operator\">+</span> dy <span class=\"token operator\">*</span> dy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token string\">\"M\"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> <span class=\"token string\">\"A\"</span> <span class=\"token operator\">+</span> dr <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> dr <span class=\"token operator\">+</span> <span class=\"token string\">\" 0 0,1 \"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> <span class=\"token string\">\",\"</span> <span class=\"token operator\">+</span> d<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>è¿™é‡Œçš„å®ç°éå¸¸çš„ç®€å•ï¼Œå°±ä¸€å¥ä»£ç ï¼Œé‚£æˆ‘ä»¬åªè¦æŠŠSVGçš„ArcToç”¨Canvasé‡Œçš„arc()æ–¹æ³•æ›¿ä»£ä¸€ä¸‹å°±okå•¦ï¼Œä½†æ˜¯äºŒè€…æ˜¯ä¸åŒçš„ï¼Œå…·ä½“æ€ä¹ˆåœ¨Canvasé‡Œå°†SVG ArcToåšè½¬æ¢æˆ‘æ•´æ˜ç™½ï¼ˆåˆæ˜¯ä¸ªæ•°å­¦é—®é¢˜ã€‚ã€‚ã€‚ï¼‰ä½†æ˜¯æ‰¾æ‰¾githubæœç„¶å·²ç»æœ‰å¤§ä½¬å®ç°äº†ï¼š <strong><a href=\"https://github.com/colinmeinke/svg-arc-to-cubic-bezier\">svg-arc-to-cubic-bezier</a></strong> è¿™ä¸ªåº“ä¸çŸ¥é“ä¸ºå•¥åªæœ‰è¿™ä¹ˆç‚¹starï¼Œä½†æ˜¯å¾ˆå¤šå…¶ä»–åº“éƒ½æ˜¯ä¾èµ–å®ƒçš„ï¼Œæ¯”å¦‚è…¾è®¯çš„ <strong><a href=\"https://github.com/AlloyTeam/pasition\">pasition</a></strong> ã€‚ä½¿ç”¨å®ƒå¯ä»¥å°†ä¸€æ®µSVG Arcè½¬æ¢ä¸ºä¸€æ®µæˆ–è€…å¤šæ®µä¸‰é˜¶è´å¡å°”æ›²çº¿å®ç°ï¼Œè¿”å›è´èµ›å°”æ›²çº¿çš„èµ·ç»ˆç‚¹å’Œä¸¤ä¸ªæ§åˆ¶ç‚¹åæ ‡.è€ŒCanvasä¹Ÿå°è£…äº†ä¸‰é˜¶è´å¡å°”æ›²çº¿æ–¹æ³•bezierCurveToï¼ˆäºŒé˜¶æ˜¯quadraticCurveToï¼‰ï¼Œæ‰€ä»¥æ–¹æ³•ä¸‰å®ç°èµ·æ¥ä¼šæ¯”è¾ƒèˆ’æœï¼ˆä½†æ˜¯ä¸­é—´å¤šäº†ä¸€å±‚è½¬æ¢ï¼Œæ€§èƒ½ä¼šå·®ä¸€ç‚¹ï¼‰ã€‚</p>\n<h4>ç®­å¤´</h4>\n<p>ç®­å¤´æˆ‘æƒ³åˆ°çš„åŠæ³•æ¯”è¾ƒç¬¨ï¼Œå°±æ˜¯ç®€å•çš„ç›¸ä¼¼ä¸‰è§’å½¢åŠ ä¸Šå››ä¸ªè±¡é™åˆ†åˆ«è®¨è®ºçš„æ–¹æ³•ç¡®å®šåæ ‡ï¼Œæ¯”å¦‚ä¸‰è§’å½¢ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">//è¿™ä¸ªä¸‰è§’å½¢é»˜è®¤æŒ‰é¡¶è§’ä¸º50Â°ï¼Œä¸¤ä¸ªåº•è§’ä¸º65Â°æ¥ç®—ï¼Œä¸¤è¾¹é•¿å…ˆæŒ‰ä¸€åŠnodeWidthæ¥ç®—å§</span>\n<span class=\"token keyword\">let</span> t_nodeRadius <span class=\"token operator\">=</span> nodeWidth<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>targetFlag <span class=\"token operator\">&amp;&amp;</span> sourcePos<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> t_nodeRadius <span class=\"token operator\">=</span> sourcePos<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>targetFlag <span class=\"token operator\">&amp;&amp;</span> targetPos<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span> t_nodeRadius <span class=\"token operator\">=</span> targetPos<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">//è¾¹ç•Œåˆ¤å®š => è´´ä¸€èµ·äº†å°±åˆ«æ˜¾ç¤ºå•¦</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> target<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> t_nodeRadius <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;&amp;</span>\n    <span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> target<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> t_nodeRadius <span class=\"token operator\">*</span> <span class=\"token number\">1.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    t_nodeRadius <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> t_srcPos <span class=\"token operator\">=</span> targetFlag <span class=\"token operator\">?</span> sourcePos <span class=\"token punctuation\">:</span> targetPos<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> t_tgtPos <span class=\"token operator\">=</span> targetFlag <span class=\"token operator\">?</span> targetPos <span class=\"token punctuation\">:</span> sourcePos<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">let</span> topAngle <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token constant\">PI</span> <span class=\"token operator\">/</span> <span class=\"token number\">180</span> <span class=\"token operator\">*</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span><span class=\"token comment\">//è§’åº¦è½¬å¼§åº¦ï¼Œæ³¨æ„Mathçš„é‚£äº›æ–¹æ³•çš„å•ä½æ˜¯å¼§åº¦</span>\n    sideEdge <span class=\"token operator\">=</span> t_nodeRadius<span class=\"token punctuation\">,</span><span class=\"token comment\">//ç…ç€åˆé€‚ï¼Œå…ˆå‡‘åˆ</span>\n    halfBottomEdge <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>topAngle <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> sideEdge<span class=\"token punctuation\">,</span>\n    centerEdge <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>topAngle <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> sideEdge<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">//angleæ˜¯ä¸€æ ·çš„ï¼Œå…ˆæŒ‰nodeä¸­å¿ƒç®—ï¼Œarrowä¸­å¿ƒç®—ä¹‹åå†è¯´ï¼Œå…ˆtodo(ç›´çº¿ç‰ˆçœ‹å‡ºä¸è¿™ä¸ªé—®é¢˜ï¼Œæ›²çº¿å°±å´©äº†)</span>\n<span class=\"token keyword\">let</span> angle <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">atan</span><span class=\"token punctuation\">(</span>Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>t_srcPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> t_tgtPos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">abs</span><span class=\"token punctuation\">(</span>t_srcPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> t_tgtPos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">let</span> beginPosX <span class=\"token operator\">=</span> t_nodeRadius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    beginPosY <span class=\"token operator\">=</span> t_nodeRadius <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    pos1X<span class=\"token punctuation\">,</span> pos1Y<span class=\"token punctuation\">,</span> pos2X<span class=\"token punctuation\">,</span> pos2Y<span class=\"token punctuation\">,</span>\n    centerX <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>t_nodeRadius <span class=\"token operator\">+</span> centerEdge<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    centerY <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>t_nodeRadius <span class=\"token operator\">+</span> centerEdge<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\npos1X <span class=\"token operator\">=</span> pos2X <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">sin</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> halfBottomEdge<span class=\"token punctuation\">;</span>\npos1Y <span class=\"token operator\">=</span> pos2Y <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">cos</span><span class=\"token punctuation\">(</span>angle<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> halfBottomEdge<span class=\"token punctuation\">;</span><span class=\"token comment\">//ç®€å•çš„å‡ ä½•çŸ¥è¯†(æ‰‹åŠ¨æŠ½æğŸ˜–)</span>\n\n<span class=\"token comment\">//è¿˜éœ€è¦åˆ†ç±»è®¨è®ºtargetå’Œsourceçš„å·¦å³ä½ç½®çš„å„ç§æƒ…å†µ</span>\n<span class=\"token comment\">//1234ä»£è¡¨targetç›¸å¯¹sourceæ‰€åœ¨è±¡é™</span>\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>t_srcPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">></span> t_tgtPos<span class=\"token punctuation\">.</span>x<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//sourceèŠ‚ç‚¹åœ¨å³</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>t_srcPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> t_tgtPos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//ä¸‹ ----> 1</span>\n        beginPosX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> beginPosX<span class=\"token punctuation\">;</span>\n        beginPosY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> beginPosY<span class=\"token punctuation\">;</span>\n\n        centerX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> centerX<span class=\"token punctuation\">;</span>\n        centerY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> centerY<span class=\"token punctuation\">;</span>\n\n        pos1X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">+</span> pos1X<span class=\"token punctuation\">;</span>\n        pos1Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">-</span> pos1Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//+ -</span>\n\n        pos2X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">-</span> pos2X<span class=\"token punctuation\">;</span>\n        pos2Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">+</span> pos2Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//- +</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//ä¸Š ----> 4</span>\n        beginPosX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> beginPosX<span class=\"token punctuation\">;</span>\n        beginPosY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> beginPosY<span class=\"token punctuation\">;</span>\n\n        centerX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">+</span> centerX<span class=\"token punctuation\">;</span>\n        centerY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> centerY<span class=\"token punctuation\">;</span>\n\n        pos1X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">+</span> pos1X<span class=\"token punctuation\">;</span>\n        pos1Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">+</span> pos1Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//+ +</span>\n\n        pos2X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">-</span> pos2X<span class=\"token punctuation\">;</span>\n        pos2Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">-</span> pos2Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//- -</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//sourceèŠ‚ç‚¹åœ¨å·¦</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>t_srcPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">></span> t_tgtPos<span class=\"token punctuation\">.</span>y<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//ä¸‹ ----> 2</span>\n        beginPosX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> beginPosX<span class=\"token punctuation\">;</span>\n        beginPosY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> beginPosY<span class=\"token punctuation\">;</span>\n\n        centerX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> centerX<span class=\"token punctuation\">;</span>\n        centerY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">+</span> centerY<span class=\"token punctuation\">;</span>\n\n        pos1X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">-</span> pos1X<span class=\"token punctuation\">;</span>\n        pos1Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">-</span> pos1Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//- -</span>\n\n        pos2X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">+</span> pos2X<span class=\"token punctuation\">;</span>\n        pos2Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">+</span> pos2Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//+ +</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span><span class=\"token comment\">//ä¸Š ----> 3</span>\n        beginPosX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> beginPosX<span class=\"token punctuation\">;</span>\n        beginPosY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> beginPosY<span class=\"token punctuation\">;</span>\n\n        centerX <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>x <span class=\"token operator\">-</span> centerX<span class=\"token punctuation\">;</span>\n        centerY <span class=\"token operator\">=</span> t_tgtPos<span class=\"token punctuation\">.</span>y <span class=\"token operator\">-</span> centerY<span class=\"token punctuation\">;</span>\n\n        pos1X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">-</span> pos1X<span class=\"token punctuation\">;</span>\n        pos1Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">+</span> pos1Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//- +</span>\n\n        pos2X <span class=\"token operator\">=</span> centerX <span class=\"token operator\">+</span> pos2X<span class=\"token punctuation\">;</span>\n        pos2Y <span class=\"token operator\">=</span> centerY <span class=\"token operator\">-</span> pos2Y<span class=\"token punctuation\">;</span><span class=\"token comment\">//+ -</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">//Draw triangle</span>\n<span class=\"token keyword\">let</span> triangle <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Graphics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">beginFill</span><span class=\"token punctuation\">(</span><span class=\"token number\">0x66CCFF</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">lineStyle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0x66CCFF</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">moveTo</span><span class=\"token punctuation\">(</span>beginPosX<span class=\"token punctuation\">,</span> beginPosY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span>pos1X<span class=\"token punctuation\">,</span> pos1Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">lineTo</span><span class=\"token punctuation\">(</span>pos2X<span class=\"token punctuation\">,</span> pos2Y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\ntriangle<span class=\"token punctuation\">.</span><span class=\"token function\">endFill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<hr>\n<p>æœ€åçš„æ•ˆæœï¼š</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/z8nwrhj8/3/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<h3>Zoom/Scale</h3>\n<p>è¿™ä¸ªå°±æ²¡æœ‰é‚£ä¹ˆå¤šå¥½è¯´çš„äº†ï¼ŒD3ä¹Ÿæœ‰å°è£…å¥½çš„d3-zoom,è‡ªå·±å®ç°çš„è¯éœ€è¦æ³¨æ„çš„å°±æ˜¯stage(canvasä¹Ÿä¸€æ ·)æ”¾å¤§çš„ä¸­å¿ƒæ˜¯å·¦ä¸Šè§’(å³(0,0)),æ‰€ä»¥è¦ä¿è¯æ”¾å¤§ä¹‹åé¼ æ ‡ä½ç½®çš„å›¾å½¢è¿˜ä¿æŒä¸åŠ¨ï¼Œå°±å¾—åˆ†ä¸¤æ­¥èµ°ï¼š</p>\n<ul>\n<li>\n<p>æŠŠå½“å‰é¼ æ ‡åœ¨æµè§ˆå™¨ä¸­çš„ä½ç½®è½¬æ¢ä¸ºåœ¨stageä¸­çš„ä½ç½®ï¼›</p>\n</li>\n<li>\n<p>æ ¹æ®æ”¾å¤§è¿˜æ˜¯ç¼©å°ï¼Œstageåšä¸å½“å‰åæ ‡ç›¸åçš„å·®å€¼ä½ç§»ã€‚è¿™æ ·æ”¾å¤§æˆ–è€…ç¼©å°åé¼ æ ‡åœ¨stageä¸­çš„æŒ‡å‘ä½ç½®å°±ä¸ä¼šå˜äº†ã€‚</p>\n</li>\n</ul>\n<p>Scaleä¹Ÿæ˜¯ç±»ä¼¼çš„é“ç†ï¼Œåªä¸è¿‡è¦æ³¨æ„stageåšè´Ÿå‘ä½ç§»çš„æ—¶å€™è¦è€ƒè™‘å½“å‰æ”¾å¤§å€æ•°çš„å› ç´ ã€‚</p>\n<h3>å¸ƒå±€(Layout)</h3>\n<p>èŠ‚ç‚¹å°‘çš„æ—¶å€™æˆ‘ä»¬è¿˜å¯ä»¥äººå·¥çš„æ‰‹åŠ¨ç»™èµ‹å€¼ï¼Œæˆ–è€…ç›´æ¥éšæœºèµ‹å€¼ï¼Œä½†æ˜¯å½“æ•°é‡å¤§äº†çš„æ—¶å€™è¿™ä¸¤è€…çš„é—®é¢˜å°±æš´éœ²å¾—å¾ˆæ˜æ˜¾äº†ï¼Œå› ä¸ºèŠ‚ç‚¹å’ŒèŠ‚ç‚¹ä¹‹é—´æ˜¯æœ‰å…³ç³»çš„ï¼Œä¸èƒ½éšæœºä¹±æ”¾ï¼Œæ‰‹åŠ¨èµ‹å€¼åˆ™èµ‹å€¼åˆ°æ‰‹æŠ½ç­‹ã€‚ã€‚ã€‚æ‰€ä»¥å¸ƒå±€è¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¥½çš„å¸ƒå±€èƒ½è®©å…³ç³»å‡¸æ˜¾çš„æ›´åŠ æ¸…æ¥šã€‚</p>\n<h4>Dracula</h4>\n<p><a href=\"https://www.graphdracula.net/\">Dracula</a>å°±æ˜¯ç”¨äºå¸ƒå±€å›¾å½¢å’Œå…³ç³»ç½‘çš„,åªéœ€è¦æ·»åŠ è¾¹ä¿¡æ¯å³å¯èµ‹äºˆèŠ‚ç‚¹ä½ç½®ï¼Œæ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">let</span> g <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dracula<span class=\"token punctuation\">.</span>Graph</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> l <span class=\"token operator\">=</span> edges<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> l<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> data <span class=\"token operator\">=</span> edges<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> id <span class=\"token operator\">=</span> data<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">;</span>\n    g<span class=\"token punctuation\">.</span><span class=\"token function\">addEdge</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>source<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">var</span> layouter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dracula<span class=\"token punctuation\">.</span>Layout<span class=\"token punctuation\">.</span>Spring</span><span class=\"token punctuation\">(</span>g<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nlayouter<span class=\"token punctuation\">.</span><span class=\"token function\">layout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">var</span> renderer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Dracula<span class=\"token punctuation\">.</span>Renderer<span class=\"token punctuation\">.</span>Raphael</span><span class=\"token punctuation\">(</span><span class=\"token string\">'canvas'</span><span class=\"token punctuation\">,</span> g<span class=\"token punctuation\">,</span>canvas<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> canvas<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrenderer<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//è¿™é‡Œæ”¹åŠ¨äº†Dragularçš„æºç ,è¿™ä¸ªdrawæ–¹æ³•ä¸å†è¿›è¡Œæ¸²æŸ“</span>\n\n<span class=\"token comment\">//æ ¹æ®gç”Ÿæˆçš„ä½ç½®è¿›è¡Œåˆå§‹åŒ–</span>\n<span class=\"token keyword\">let</span> nodesObj <span class=\"token operator\">=</span> g<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> node <span class=\"token keyword\">in</span> nodesObj<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span><span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<p>å› ä¸ºæƒ³çœæ—¶é—´çš„åŸå› æ²¡æœ‰å•æŠŠå…¶å¸ƒå±€ç®—æ³•æŠ½å‡ºæ¥ï¼Œè€Œæ˜¯ç²—æš´çš„ç›´æ¥åˆ æ‰æ¸²æŸ“æ–¹æ³•æå‡ºåæ ‡ä¿¡æ¯ã€‚Draculaä½œä¸ºé™æ€å¸ƒå±€æ•ˆæœä¸é”™ï¼Œä½†æ˜¯å…¶å¹¶æ²¡æœ‰è€ƒè™‘èŠ‚ç‚¹çš„å¤§å°é—®é¢˜(width)ï¼Œéœ€è¦è‡ªå·±åœ¨å…¶ä»£ç ä¸Šä¿®æ”¹ï¼Œæ‰€ä»¥å…ˆä¸æ·±å…¥ã€‚</p>\n<h4>D3-force</h4>\n<p>åŠ›å¸ƒå±€å°±æ˜¾å¾—æ•ˆæœç‚«é…·å¾ˆå¤šäº†ï¼Œè€Œä¸”å¾—ç›ŠäºD3 V4æ¨¡å—åŒ–åˆ†å¾—å¾ˆæ¸…æ¥šï¼Œå¯ä»¥æŠŠD3-forceå•ç‹¬æ‹å‡ºæ¥ç”¨äºå¸ƒå±€ï¼š</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/z8nwrhj8/8/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>å…³äºd3-forceçš„å…·ä½“ä»‹ç»å¯ä»¥çœ‹ <strong><a href=\"https://github.com/xswei/d3js_doc/tree/master/API/d3-force-master#link_distance\">è¿™é‡Œ</a></strong> ï¼Œæˆ‘è¯•æ¥è¯•å»ï¼Œä¸€ç§åŠ›ä¸€ç§åŠ›çš„æµ‹è¯•è¿˜æ˜¯æ¯”è¾ƒå¥½ç†è§£çš„ï¼Œä½†æ˜¯ä¸€æ—¦åŠ ä¸Šd3.forceLink(edges)ä¹‹åå°±å˜å¾—å¾ˆå¥‡æ€ªã€‚ã€‚ã€‚è¿™å—è¿˜å¾…ç»§ç»­ç ”ç©¶ã€‚ã€‚</p>\n<h3>Text</h3>\n<p>å®ç°Textçš„æ—¶å€™è¸©äº†ä¸€äº›å‘ã€‚ã€‚è¿˜è®°å¾—æœ€å¼€å§‹åˆæ¢æºç é‚£ä¼šè¯´çš„Textç»§æ‰¿äºSpriteå—ï¼ŸPixiå¯¹æ–‡å­—çš„å¤„ç†ç›¸å½“äºæ˜¯åœ¨Spriteçš„åŸºç¡€ä¸Šçš„ï¼Œç”¨Canvas2dï¼ˆfillText( <strong><a href=\"https://www.w3.org/TR/2dcontext/#dom-context-2d-filltext\">è§„èŒƒ</a></strong> )ï¼‰å¤„ç†æ–‡å­—åæœ€ç»ˆè¿”å›çš„Textå®ä¾‹å…¶å®æ˜¯ä¸€ä¸ªTextureï¼Œæ”¾å¤§åä¼šå¤±çœŸï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/z8nwrhj8/9/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Textå®ä¾‹å³ä½¿è·ŸéšstageåŒæ­¥ç¼©æ”¾ï¼š</p>\n<iframe width=\"100%\" height=\"300\" src=\"//jsfiddle.net/todaylg/z8nwrhj8/11/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<p>Todoï¼šWebGLæ€ä¹ˆæ¸²æŸ“å‡ºæ”¾å¤§åä¸å¤±çœŸçš„å­—ä½“ï¼ŸCanvas2dåˆæ˜¯æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿæƒ³å¼„æ˜ç™½ä¼°è®¡å¾—è¡¥è¡¥å›¾å½¢å­¦ï¼ˆWebGL3Dï¼‰å¹¶ä¸”å»çœ‹æµè§ˆå™¨å†…æ ¸ï¼ˆCanvas2Dï¼‰æ˜¯æ€ä¹ˆå®ç°çš„äº†ï¼Œç–¯ç‹‚çš„è§¦åŠç€æˆ‘çš„çŸ¥è¯†ç›²åŒºã€‚ã€‚ã€‚å¸Œæœ›ä»¥åèƒ½ææ˜ç™½å§ã€‚ã€‚ã€‚ã€‚</p>\n<p>è€ŒCreateJSæ¸²æŸ“Textä½¿ç”¨çš„æ˜¯Canvas2Dï¼Œæ‰€ä»¥æ— å¤±çœŸã€‚</p>\n<p>å¯¹äºèŠ‚ç‚¹æ¥è¯´Texté»˜è®¤åº”å½“å¤„äºèŠ‚ç‚¹çš„æ­£ä¸­é—´ï¼Œå¯¹äºç›´è¾¹æ¥è¯´ä¹Ÿæ˜¯è¿™æ ·ï¼Œä½†æ˜¯å¯¹äºè´èµ›å°”æ›²çº¿çš„è¾¹è¿™é‡Œè¿˜æ²¡æœ‰æƒ³åˆ°å¾ˆå¥½çš„å®ç°æ–¹æ³•ï¼Œæ‰€ä»¥å…ˆæ”¾åœ¨è´èµ›å°”æ›²çº¿ä¸¤ä¸ªæ§åˆ¶ç‚¹çš„ä¸­ç‚¹:</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/03Ladyqs/15/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<h3>Pin Effect</h3>\n<p>å›¾é’‰æ•ˆæœå¯ä»¥ç›´æ¥é€šè¿‡è®¾ç½®D3-forceçš„fxã€fyæ¥å®ç°ï¼Œæ‹–æ‹‰ä»¥ååŒå‡»å¯ä»¥æ¢å¤å¼¹åŠ›ï¼š</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/03Ladyqs/17/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<h3>Right Click/Add Image</h3>\n<p>å³é”®èœå•å°±æ²¡å•¥å¥½è¯´çš„äº†ï¼Œæ·»åŠ å›¾ç‰‡è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸‹è½¬æˆBitmapåç”±äºBitmapæ ¼å¼å·²ç»è¶³å¤Ÿç®€å•æ‰€ä»¥ä¸ç”¨cacheåè€Œä¼šå¥½ä¸€äº›ï¼ˆä½†æ˜¯å¦‚æœç”¨äº†filteråˆ™å¿…é¡»ä½¿ç”¨cacheï¼‰ï¼š</p>\n<iframe width=\"100%\" height=\"400\" src=\"//jsfiddle.net/todaylg/03Ladyqs/18/embedded/result,js,html,css/\" allowfullscreen=\"allowfullscreen\" frameborder=\"0\"></iframe>\n<h2>ç»“è®º</h2>\n<p>æ„Ÿè§‰æƒ³æ³•çš„ç«‹æ„å…¶å®è¿˜æ˜¯æœ‰æ„ä¹‰çš„ï¼Œä½†æ˜¯å®è·µè¿‡ç¨‹ä¸­å‘ç°è‡ªå·±ç¼ºä¸œè¥¿ï¼Œé—®é¢˜ç ”ç©¶åˆ°åº•ä¸‹ä¼šå‘ç°å¯¸æ­¥éš¾è¡Œï¼š</p>\n<p>ä¸€æ–¹é¢æ˜¯ç¼ºç®—æ³•å’Œæ•°å­¦ï¼Œç‰¹åˆ«æ˜¯ä¸å¯è§†åŒ–æ–¹é¢ç›¸å…³çš„ä¸è¿™ä¸¤çš„å…³ç³»å°±æ›´ä¸ºå¯†åˆ‡äº†ï¼Œç‚«é…·çš„æ•ˆæœåé¢éƒ½æ˜¯æ•°å­¦ï¼›</p>\n<p>å¦ä¸€æ–¹é¢æ˜¯ç¼ºå›¾å½¢å­¦è¿™äº›ä¸€å¤§å—ä¸€å¤§å—çš„è®¡ç®—æœºçŸ¥è¯†ä½“ç³»ï¼Œæ‰€ä»¥ç ”ç©¶ä¸å¾—ä¸åªåœç•™åœ¨åˆæ¢ã€‚ã€‚ã€‚å¸Œæœ›å®‰å¿ƒæ‹¿äº†é€šä¿¡æ¯•ä¸šè¯ä»¥åæ—©ç‚¹æŠŠè®¡ç§‘çš„çŸ¥è¯†è¡¥ä¸Šå§ã€‚ã€‚ã€‚å†ç»§ç»­ç ”ç©¶å§ã€‚ã€‚ã€‚</p>\n<h2>æœªè§£å†³ç–‘é—®ï¼ˆTodoListï¼‰</h2>\n<ul>\n<li>\n<p>Pixiçš„Textureéƒ¨åˆ†</p>\n</li>\n<li>\n<p>WebGLçš„æŠ—é”¯é½¿ä¸Canvas2Dçš„æŠ—é”¯é½¿</p>\n</li>\n</ul>","fields":{"slug":"/canvas-renderermation/","prefix":"2017-11-11"},"frontmatter":{"title":"åˆæ¢Canvas2Dæ¸²æŸ“ä¸æ•°æ®å¯è§†åŒ–","author":"todaylg","category":"å¤§ç»“","cover":{"childImageSharp":{"resize":{"src":"/LG-Blog-Gatsby/static/bg-6695434a8428680559245bd3b3512ac3-ada8c.jpg"}}}}},"authornote":{"id":"20cdfd79-00b3-57fb-a29f-bb96dcd133a8","html":"<p><strong>todaylg</strong> </p>"},"site":{"siteMetadata":{"facebook":{"appId":""}}}},"pageContext":{"slug":"/canvas-renderermation/","prev":{"id":"b04523b8-64ef-540b-b6a8-775bc37c8064","fields":{"slug":"/svg-outlineAnimation/","prefix":"2017-09-28","source":"posts"},"frontmatter":{"title":"SVGåŠ¨ç”»åˆ¶ä½œå°ç»“","category":"å°ç»“"}},"next":{"id":"03571e3b-ae68-5050-af69-35eaf7585cbd","fields":{"slug":"/Internship-summary/","prefix":"2017-12-18","source":"posts"},"frontmatter":{"title":"å®ä¹ å°ç»“","category":"å°ç»“"}},"source":"posts"}}